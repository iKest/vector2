<?xml version="1.0" encoding="UTF-8"?>
<Root>
    <Objects>
        <Object Name="BlackBallBody" X="0" Y="0">
            <Content>
                <Object Name="BlackBallGraphics" X="0" Y="0">
                    <Content>
                        <Object Name="Images" X="0" Y="0">
                            <Content>
                                <Object Name="Body" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.black_ball_turbine" X="-31" Y="-31" Layer="TrapsColor" Width="62" Height="62" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="62" B="0" C="0" D="62" Tx="0" Ty="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="TurbineFading">
                                                        <ColorInterval ColorFinish="#CCCCCC99" Frames="10" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                            <Sound Name="black_ball" Volume="100" />
                                            <Sound Name="black_ball" Volume="100" />
                                            <Sound Name="black_ball" Volume="100" />
                                        </Image>
                                        <Image ClassName="traps_shadows.black_ball_body" X="-43" Y="-43" Layer="TrapsBlack" Width="86" Height="86" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="86" B="0" C="0" D="86" Tx="0" Ty="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="TurbineFading">
                                                        <ColorInterval ColorFinish="#AAAAAAFF" Frames="10" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.black_ball_shadow_underfloor" X="-50" Y="-45" Layer="TrapsShadows" Width="100" Height="92" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="100" B="0" C="0" D="92" Tx="0" Ty="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="BallShadowOpacityOff">
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="15" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Object Name="Blink1" X="0" Y="1">
                                            <Content>
                                                <Image ClassName="traps_shadows.black_ball_shine" X="-11" Y="-31" Layer="TrapsColor" Width="22" Height="18" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="22" B="0" C="0" D="18" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.black_ball_shine" X="-11" Y="31" Layer="TrapsColor" Width="22" Height="18" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="22" B="0" C="0" D="-18" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="TurbinePseudoRotate1">
                                                        <RotationInterval Angle="360" Type="Linear" Frames="15" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                        <Object Name="Blink2" X="0" Y="1">
                                            <Content>
                                                <Image ClassName="traps_shadows.black_ball_shine" X="-11" Y="-31" Layer="TrapsColor" Width="22" Height="18" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="22" B="0" C="0" D="18" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.black_ball_shine" X="-11" Y="31" Layer="TrapsColor" Width="22" Height="18" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="22" B="0" C="0" D="-18" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="TurbinePseudoRotate2">
                                                        <RotationInterval Angle="180" Type="Linear" Frames="15" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Dynamic>
                                            <Transformation Name="BodyFloating">
                                                <MoveInterval Frames="30" Type="Bezier">
                                                    <Point X="0" Y="0" />
                                                    <Point X="0" Y="4" />
                                                    <Point X="0" Y="7" />
                                                </MoveInterval>
                                                <MoveInterval Frames="60" Type="Bezier">
                                                    <Point X="0" Y="0" />
                                                    <Point X="0" Y="-8" />
                                                    <Point X="0" Y="-14" />
                                                </MoveInterval>
                                                <MoveInterval Frames="30" Type="Bezier">
                                                    <Point X="0" Y="0" />
                                                    <Point X="0" Y="4" />
                                                    <Point X="0" Y="7" />
                                                </MoveInterval>
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                                <Object Name="Fangs" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.black_ball_fang" X="-36" Y="14" Layer="TrapsColor" Width="77" Height="32" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="77" B="0" C="0" D="32" Tx="0" Ty="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="BottomFangTakeOff">
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="0" Y="26" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                    <Transformation Name="BottomFangLanding">
                                                        <ColorInterval ColorFinish="#555555FF" Frames="1" />
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="0" Y="-30" />
                                                        </MoveInterval>
                                                        <SizeInterval Frames="5" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="0" H="0" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.black_ball_fang" X="-61" Y="-51" Layer="TrapsColor" Width="66" Height="83" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-38.5" B="66.684" C="-27.7128" D="-16" Tx="66.2128" Ty="16" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LeftFangTakeOff">
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="-25" Y="-13" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                    <Transformation Name="LeftFangLanding">
                                                        <ColorInterval ColorFinish="#555555FF" Frames="1" />
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="29" Y="17" />
                                                        </MoveInterval>
                                                        <SizeInterval Frames="5" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="0" H="0" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.black_ball_fang" X="-10" Y="-58" Layer="TrapsColor" Width="66" Height="83" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-38.5" B="-66.684" C="27.7128" D="-16" Tx="38.5" Ty="82.684" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="RightFangTakeOff">
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="22" Y="-15" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                    <Transformation Name="RightFangLanding">
                                                        <ColorInterval ColorFinish="#555555FF" Frames="1" />
                                                        <MoveInterval Frames="20" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="-26" Y="19" />
                                                        </MoveInterval>
                                                        <SizeInterval Frames="5" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="0" H="0" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                    </Content>
                                    <Properties>
                                        <Dynamic>
                                            <Transformation Name="FangsRotation">
                                                <RotationInterval Angle="-90" Type="Linear" Frames="15" />
                                            </Transformation>
                                            <Transformation Name="KillFangs">
                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="5" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                            </Content>
                            <Properties>
                                <Static>
                                    <Matrix A="0.6" B="0" C="0" D="0.6" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Object>
                        <SoundSource Name="blackball_loop" X="0" Y="0">
                            <Properties>
                                <Static>
                                    <Sound Name="blackball_loop" Looped="1">
                                        <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.1" />
                                    </Sound>
                                </Static>
                            </Properties>
                        </SoundSource>
                        <Trigger Name="Hovering" X="-40" Y="-40" Width="80" Height="80" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="FlagActive" Value="0" />
                                    <SetVariable Name="FlagVisible" Value="0" />
                                </Init>
                                <Loop Name="Start">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="BlackBallHoveringOn" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="1" />
                                        <SetVariable Name="FlagActive" Value="1" />
                                        <SoundSource Name="blackball_loop" VolumeFactor="1" Switch="On" />
                                        <Choose Order="Sync" Set="0">
                                            <Activate ActionID="BlackBallHoveringRotate" />
                                            <Activate ActionID="BlackBallHoveringFloating" />
                                        </Choose>
                                    </Actions>
                                </Loop>
                                <Loop Name="Continue on second onshow">
                                    <Events>
                                        <OnShow />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="1" />
                                        <Choose Order="Sync" Set="0">
                                            <Activate ActionID="BlackBallHoveringRotate" />
                                            <Activate ActionID="BlackBallHoveringFloating" />
                                        </Choose>
                                    </Actions>
                                </Loop>
                                <Loop Name="RotationCycle">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="BlackBallHoveringRotate" />
                                        <Equal Value1="_FlagVisible" Value2="1" />
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Choose Order="Sync" Set="0">
                                            <Transform Name="TurbinePseudoRotate1" />
                                            <Transform Name="TurbinePseudoRotate2" />
                                            <Transform Name="FangsRotation" />
                                        </Choose>
                                        <Activate ActionID="BlackBallHoveringRotate" />
                                    </Actions>
                                </Loop>
                                <Loop Name="FloatingCycle">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="BlackBallHoveringFloating" />
                                        <Equal Value1="_FlagVisible" Value2="1" />
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Transform Name="BodyFloating" />
                                        <Activate ActionID="BlackBallHoveringFloating" />
                                    </Actions>
                                </Loop>
                                <Loop Name="Off from hide">
                                    <Events>
                                        <OnHide />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Dynamic>
                            <Transformation Name="BlackBallActivationOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Particle Name="GraviballExplosion" X="0" Y="-15" Layer="Particles" Factor="0">
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="Explosion_Effect">
                                <ActivationInterval Type="On" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Particle>
                <Trigger Name="Visual_controller" X="-40" Y="-40" Width="80" Height="80" Type="Circle">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                        </Init>
                        <Loop ToolTip="boom">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="boom" />
                            </Conditions>
                            <Actions>
                                <Transform Name="Explosion_Effect" />
                            </Actions>
                        </Loop>
                        <Loop ToolTip="boom">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="ActivationOff" />
                            </Conditions>
                            <Actions>
                                <Transform Name="BlackBallActivationOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="BlackBallTrigger" X="0" Y="0">
                    <Content>
                        <Trigger Name="SaveCheck" X="-41" Y="-41" Width="80" Height="80" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiBall" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiball" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="wake_up_checker" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Killer" X="-40" Y="-40" Width="80" Height="80" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="FlagActive" Value="1" />
                                </Init>
                                <Loop ToolTip="kill">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Impulse Model="Player" Impulse="40" R="1000" Absorption="0.8" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,BlackballDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="enter">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <SetVariable Name="FlagActive" Value="0" />
                                        <Activate ActionID="ActivationOff" AboveLevel="1" Dispatch="Upward" />
                                        <Activate ActionID="boom" AboveLevel="1" Dispatch="Upward" />
                                        <Activate ActionID="kill_check" AboveLevel="3" Dispatch="Full" />
                                        <Sound Name="black_ball" Volume="100" />
                                        <Transform Name="KillerTurnOff" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="KillerTurnOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="KillerTurnOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="Low" AvailableTypes="E_String" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="BlackBallSlot" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.black_ball_station1" X="0" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-71" B="0" C="0" D="85" Tx="71" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.black_ball_station1" X="-71" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="71" B="0" C="0" D="85" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Object Name="IlluminatedStation" X="0" Y="0">
                    <Content>
                        <Image ClassName="~StationIlluminationImage" X="-71" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="71" B="0" C="0" D="85" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="~StationIlluminationImage" X="0" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-71" B="0" C="0" D="85" Tx="71" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                    </Content>
                    <Properties>
                        <Static>
                            <StartColor Color="#FFFFFF00" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="SlotIlluminationShiftOpacityUp">
                                <ColorInterval ColorFinish="~SlotIlluminationOpacityExp" Frames="1" ColorStart="#FFFFFF00" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Object Name="ShinyStation" X="0" Y="0">
                    <Content>
                        <Image ClassName="traps_shadows.black_ball_station2" X="-71" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="71" B="0" C="0" D="85" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.black_ball_station2" X="0" Y="0" Layer="TrapsColor" Width="71" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-71" B="0" C="0" D="85" Tx="71" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                    </Content>
                    <Properties>
                        <Static>
                            <StartColor Color="#FFFFFF00" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="SlotRadianceOpacityOff">
                                <ColorInterval ColorFinish="#FFFFFF00" Frames="60" />
                            </Transformation>
                            <Transformation Name="SlotRadianceOpacityOffQuickly">
                                <ColorInterval ColorFinish="#FFFFFF00" Frames="5" />
                            </Transformation>
                            <Transformation Name="SlotRadianceOpacityUp">
                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~TimerDependedDuration" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Object Name="RightFlap" X="68" Y="-3">
                    <Content>
                        <Image ClassName="traps_shadows.black_ball_flap" X="-40" Y="3" Layer="LaserMed" Width="43" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-42.6667" B="0" C="0" D="20" Tx="42.6667" Ty="0" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="RightFlapOpen">
                                        <SizeInterval Frames="20" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.001" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.black_ball_flap" X="2" Y="0" Layer="TrapsColor" Width="12" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-0" B="-20" C="-12" D="0" Tx="12" Ty="19.9999" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.black_ball_flap" X="14" Y="0" Layer="TrapsColor" Width="12" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-0" B="-20" C="12" D="0" Tx="0" Ty="19.9999" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="2" Y="3" Layer="TrapsBlack" Width="24" Height="17" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="24" B="0" C="0" D="17" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                    </Content>
                </Object>
                <Object Name="LeftFlap" X="-93" Y="-3">
                    <Content>
                        <Image ClassName="traps_shadows.black_ball_flap" X="22" Y="3" Layer="LaserMed" Width="43" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="42.6667" B="0" C="0" D="20" Tx="0" Ty="0" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="LeftFlapOpen">
                                        <SizeInterval Frames="20" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.001" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.black_ball_flap" X="-1" Y="0" Layer="TrapsColor" Width="12" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-0" B="-20" C="-12" D="0" Tx="12" Ty="19.9999" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.black_ball_flap" X="11" Y="0" Layer="TrapsColor" Width="12" Height="20" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-0" B="-20" C="12" D="0" Tx="0" Ty="19.9999" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-1" Y="3" Layer="TrapsBlack" Width="24" Height="17" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="24" B="0" C="0" D="17" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                    </Content>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="Low" AvailableTypes="E_String" />
                        <Expression Name="FlapsCloseDuration" Value="?switch[~Type, Low:1, Short:1, 30]" />
                        <Expression Name="FlapsCloseLength" Value="?switch[~Type, Low:1, Short:1, 1400]" />
                        <Expression Name="StationIlluminationImage" Value="?switch[~Type, Low:traps_shadows.black_ball_station3, traps_shadows.black_ball_station4]" />
                        <Variable Name="Timer" Type="E_Int" Default="0" />
                        <Expression Name="TimerDependedDuration" Value="?switch[~Timer, 0:1, ~Timer]" />
                        <Expression Name="SlotIlluminationOpacityExp" Value="?switch[~Type, Low:#FFFFFFFF, #FFFFFF88]" />
                    </ContentVariable>
                    <Matrix A="0.75" B="0" C="0" D="0.7" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="TripleBombBody" X="0" Y="0">
            <Content>
                <Object Name="TripleBombGraphics" X="0" Y="48">
                    <Content>
                        <Object Name="Images" X="0" Y="0">
                            <Content>
                                <Object Name="Head_1" X="0" Y="0">
                                    <Content>
                                        <Object Name="" X="-34" Y="-66">
                                            <Content>
                                                <Image ClassName="traps_shadows.triple_bomb1" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb2" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMed">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~TimerDependedDuration" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF7F" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb3" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMax">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~BodyFullFlareTime" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="HeadsTakeOff">
                                                        <MoveInterval Frames="30" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="0" Y="-10" />
                                                            <Point X="0" Y="-15" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                </Object>
                                <Object Name="Head_2" X="1" Y="3">
                                    <Content>
                                        <Object Name="" X="-35" Y="-67">
                                            <Content>
                                                <Image ClassName="traps_shadows.triple_bomb1" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb2" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMed">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~TimerDependedDuration" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF7F" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb3" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMax">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~BodyFullFlareTime" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="HeadsTakeOff">
                                                        <MoveInterval Frames="30" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="0" Y="-10" />
                                                            <Point X="0" Y="-15" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="-0.5" B="0.866" C="-0.866" D="-0.5" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Object>
                                <Object Name="Head_3" X="-2" Y="3">
                                    <Content>
                                        <Object Name="" X="-34" Y="-65">
                                            <Content>
                                                <Image ClassName="traps_shadows.triple_bomb1" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb2" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMed">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~TimerDependedDuration" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF7F" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.triple_bomb3" X="0" Y="0" Layer="TrapsColor" Width="68" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="68" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="BodyFlareToMax">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~BodyFullFlareTime" ColorStart="#FFFFFF00" />
                                                            </Transformation>
                                                            <Transformation Name="BodyFlareToMin">
                                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" ColorStart="#FFFFFFFF" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="HeadsTakeOff">
                                                        <MoveInterval Frames="30" Type="Bezier">
                                                            <Point X="0" Y="0" />
                                                            <Point X="0" Y="-10" />
                                                            <Point X="0" Y="-15" />
                                                        </MoveInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="-0.5" B="-0.866" C="0.866" D="-0.5" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Object>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="HeadsRotation">
                                        <RotationInterval Angle="-60" Type="Linear" Frames="15" />
                                    </Transformation>
                                    <Transformation Name="HeadsRotationSlow">
                                        <RotationInterval Angle="-10" Type="Linear" Frames="15" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Particle Name="TripleBombEffect" X="0" Y="0" Layer="Particles" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="0" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="TripleBomb_EffectOn">
                                        <ActivationInterval Type="On" />
                                    </Transformation>
                                    <Transformation Name="TripleBomb_EffectOff">
                                        <ActivationInterval Type="Off" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Particle>
                        <SoundSource Name="triplebomb_loop" X="0" Y="0">
                            <Properties>
                                <Static>
                                    <Sound Name="triplebomb_loop" Looped="1">
                                        <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="3" FarVolume="0.2" />
                                    </Sound>
                                </Static>
                            </Properties>
                        </SoundSource>
                        <Trigger Name="Hovering" X="-20" Y="-20" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="FlagActive" Value="0" />
                                    <SetVariable Name="FlagVisible" Value="0" />
                                    <SetVariable Name="FlagSlow" Value="0" />
                                </Init>
                                <Loop Name="Start">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="TripleBombHoveringOn" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="1" />
                                        <SetVariable Name="FlagActive" Value="1" />
                                        <SoundSource Name="triplebomb_loop" VolumeFactor="2" Switch="On" />
                                        <Choose Order="Sync" Set="0">
                                            <Transform Name="TripleBomb_EffectOn" />
                                            <Activate ActionID="TripleBombHoveringRotate" />
                                            <Activate ActionID="TripleBombHoveringFloating" />
                                        </Choose>
                                    </Actions>
                                </Loop>
                                <Loop Name="Slow">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="TripleBombHoveringSlow" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagSlow" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop Name="Continue on second onshow">
                                    <Events>
                                        <OnShow />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="1" />
                                        <Choose Order="Sync" Set="0">
                                            <Activate ActionID="TripleBombHoveringRotate" />
                                            <Activate ActionID="TripleBombHoveringFloating" />
                                        </Choose>
                                    </Actions>
                                </Loop>
                                <Loop Name="RotationCycle">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="TripleBombHoveringRotate" />
                                        <Equal Value1="_FlagVisible" Value2="1" />
                                        <Equal Value1="_FlagActive" Value2="1" />
                                        <Equal Value1="_FlagSlow" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Transform Name="HeadsRotation" />
                                        <Activate ActionID="TripleBombHoveringRotate" />
                                    </Actions>
                                </Loop>
                                <Loop Name="RotationCycleSlow">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="TripleBombHoveringRotate" />
                                        <Equal Value1="_FlagVisible" Value2="1" />
                                        <Equal Value1="_FlagActive" Value2="1" />
                                        <Equal Value1="_FlagSlow" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Transform Name="HeadsRotationSlow" />
                                        <Activate ActionID="TripleBombHoveringRotate" />
                                    </Actions>
                                </Loop>
                                <Loop Name="FloatingCycle">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="TripleBombHoveringFloating" />
                                        <Equal Value1="_FlagVisible" Value2="1" />
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Transform Name="HeadsFloating" />
                                        <Activate ActionID="TripleBombHoveringFloating" />
                                    </Actions>
                                </Loop>
                                <Loop Name="Off from hide">
                                    <Events>
                                        <OnHide />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="FlagVisible" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0.6" B="0" C="0" D="0.6" Tx="0" Ty="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="TripleBombActivationOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                            <Transformation Name="HeadsFloating">
                                <MoveInterval Frames="30" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="5" />
                                    <Point X="0" Y="7" />
                                </MoveInterval>
                                <MoveInterval Frames="60" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="-10" />
                                    <Point X="0" Y="-14" />
                                </MoveInterval>
                                <MoveInterval Frames="30" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="5" />
                                    <Point X="0" Y="7" />
                                </MoveInterval>
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Particle Name="TripleBombExplosion" X="0" Y="45" Layer="Particles" Factor="0">
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="TripleBomb_Explosion_Effect">
                                <ActivationInterval Type="On" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Particle>
                <Trigger Name="Visual_controller" X="-20" Y="-20" Width="40" Height="40" Type="Circle">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                        </Init>
                        <Loop Name="Boom">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="boom" />
                            </Conditions>
                            <Actions>
                                <Transform Name="TripleBomb_Explosion_Effect" />
                                <Transform Name="TripleBombActivationOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="TripleBombTrigger" X="0" Y="48">
                    <Content>
                        <Trigger Name="SaveCheck" X="-40" Y="-40" Width="80" Height="80" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiTriple" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antitriple" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="wake_up_checker" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Killer" X="-40" Y="-40" Width="80" Height="80" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="FlagActive" Value="0" />
                                </Init>
                                <Loop ToolTip="off">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="KillerOff" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <SetVariable Name="FlagActive" Value="0" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="on">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="KillerOn" />
                                        <Equal Value1="_$Active" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="FlagActive" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="kill">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Impulse Model="Player" Impulse="40" R="1000" Absorption="0.8" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TripleBombDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="enter">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_FlagActive" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <SetVariable Name="FlagActive" Value="0" />
                                        <Activate ActionID="boom" AboveLevel="1" Dispatch="Upward" />
                                        <Activate ActionID="kill_check" AboveLevel="3" Dispatch="Full" />
                                        <Sound Name="triplebomb_explosion" Volume="100" />
                                        <Transform Name="KillerTurnOff" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="Low" AvailableTypes="E_String" />
                        <Variable Name="Timer" Default="0" />
                        <Expression Name="TimerDependedDuration" Value="?switch[~Timer, 0:1, ~Timer]" />
                        <Expression Name="BodyFullFlareTime" Value="?switch[~Timer, 0:1, 40]" />
                    </ContentVariable>
                    <Matrix A="1" B="0" C="0" D="0.75" Tx="0" Ty="0" />
                </Static>
                <Dynamic>
                    <Transformation Name="ChangeSizeOnActivation">
                        <SizeInterval Frames="10" Type="Bezier">
                            <Point W="1" H="1" />
                            <Point W="1" H="1.3333" />
                        </SizeInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="TripleBombSlot" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <Image ClassName="traps_shadows.triple_bomb4" X="0" Y="0" Layer="TrapsColor" Width="74" Height="105" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="74" B="0" C="0" D="105" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.triple_bomb4" X="-74" Y="0" Layer="TrapsColor" Width="74" Height="105" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-74" B="0" C="0" D="105" Tx="74" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-74" Y="0" Layer="TrapsColor" Width="148" Height="105" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="148" B="0" C="0" D="105" Tx="0" Ty="0" />
                                    <StartColor Color="#FFFFFF7F" />
                                    <BlendMode Mode="Multiply" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="SlotShadowOpacityOff">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="20" ColorStart="#FFFFFF7F" />
                                    </Transformation>
                                    <Transformation Name="SlotShadowOpacityOn">
                                        <ColorInterval ColorFinish="#FFFFFF7F" Frames="20" ColorStart="#FFFFFF00" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Object Name="curtain" X="0" Y="115">
                            <Content>
                                <Image ClassName="traps_shadows.triple_bomb6" X="0" Y="96" Layer="TrapsBlack" Width="74" Height="98" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="74" B="0" C="0" D="98" Tx="0" Ty="-194" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.triple_bomb6" X="-74" Y="96" Layer="TrapsBlack" Width="74" Height="98" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-74" B="0" C="0" D="98" Tx="74" Ty="-194" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="CurtainDown">
                                        <SizeInterval Frames="20" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="1" H="0.3" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="CurtainToBlack">
                                        <ColorInterval ColorFinish="#555555FF" Frames="20" ColorStart="#FFFFFFFF" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="LeftFlap" X="-74" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.triple_bomb5" X="0" Y="0" Layer="TrapsBlack" Width="74" Height="26" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-74" B="0" C="0" D="26" Tx="74" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="LeftFlapOpen">
                                        <SizeInterval Frames="20" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.001" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="RightFlap" X="74" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.triple_bomb5" X="-74" Y="0" Layer="TrapsBlack" Width="74" Height="26" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="74" B="0" C="0" D="26" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="RightFlapOpen">
                                        <SizeInterval Frames="20" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.001" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                </Object>
                <Trigger Name="Visual_controller" X="-20" Y="-20" Width="20" Height="20" Type="Circle">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                        </Init>
                        <Loop ToolTip="???">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="boom" />
                            </Conditions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="Low" AvailableTypes="E_String" />
                        <Expression Name="FlapsCloseDuration" Value="?switch[~Type, Low:1, Short:1, 30]" />
                        <Expression Name="FlapsCloseLength" Value="?switch[~Type, Low:1, Short:1, 1400]" />
                        <Variable Name="Timer" Type="E_Int" Default="0" />
                        <Expression Name="TimerDependedDuration" Value="?switch[~Timer, 0:1, ~Timer]" />
                    </ContentVariable>
                    <Matrix A="0.7" B="0" C="0" D="0.5175" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="Emitter_mounted" X="0" Y="0">
            <Content>
                <SoundSource Name="laser_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="laser_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="ParticleFromHole" X="0" Y="0">
                    <Content>
                        <Particle Name="LaserSparks" X="0" Y="-15" Layer="LaserHigh" Factor="0">
                            <Properties>
                                <Static>
                                    <SimulationSpace Value="Local" />
                                    <StartColor Value="#FF0000FF" />
                                    <PlaybackSpeed Value="1" />
                                    <StartSize Value="5" />
                                    <GravityMultiplier Value="200" />
                                    <StartSpeed Value="500" />
                                </Static>
                            </Properties>
                        </Particle>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="HoleParticlesOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="HoleParticlesOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Object Name="Graphics" X="0" Y="-20">
                    <Content>
                        <Image ClassName="traps_shadows.v_black_traps" X="-90" Y="32" Layer="TrapsColor" Width="180" Height="113" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="180" B="0" C="0" D="113" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.laser_emitter_underfloor_main_1" X="0" Y="34" Layer="TrapsColor" Width="58" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-58" B="0" C="0" D="85" Tx="58" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.laser_emitter_underfloor_main_1" X="-58" Y="34" Layer="TrapsColor" Width="58" Height="85" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="58" B="0" C="0" D="85" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.laser_emitter_underfloor_flap" X="9" Y="30" Layer="LaserMed" Width="81" Height="30" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="-80.5263" B="0" C="0" D="30" Tx="80.5264" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.laser_emitter_underfloor_flap" X="-90" Y="30" Layer="LaserMed" Width="81" Height="30" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="80.5263" B="0" C="0" D="30" Tx="0.0001" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Object Name="Shiny_slot" X="-74" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.laser_emitter_underfloor_main_2" X="74" Y="0" Layer="TrapsColor" Width="74" Height="145" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-74" B="0" C="0" D="145" Tx="74" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.laser_emitter_underfloor_main_2" X="0" Y="0" Layer="TrapsColor" Width="74" Height="145" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="74" B="0" C="0" D="145" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Static>
                                    <StartColor Color="#FFFFFF00" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="SlotFlare">
                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="~ChargeTimeInternal" />
                                    </Transformation>
                                    <Transformation Name="SlotUnflare">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="Activator" X="-5" Y="63" Width="10" Height="10">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="laser_charge" VolumeFactor="1" EndFrame="{_ChargeTimeInternal*800}" Switch="On" />
                                    <Transform Name="SlotFlare" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="laser_charge" Switch="Off" />
                                    <Transform Name="SlotFlare" Stop="1" />
                                    <Transform Name="SlotUnflare" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksStart" />
                            </Conditions>
                            <Actions>
                                <Transform Name="HoleParticlesOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksEnd" />
                            </Conditions>
                            <Actions>
                                <Transform Name="HoleParticlesOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="WidthIn" Default="180" />
                        <Variable Name="WidthOut" Default="114" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Variable Name="ChargeTimeInternal" Default="60" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Emitter_floating" X="0" Y="-10">
            <Content>
                <SoundSource Name="laser_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="laser_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="Graphics" X="0" Y="-36">
                    <Content>
                        <Object Name="Wings" X="0" Y="0">
                            <Content>
                                <Object Name="Center_Wing" X="-19" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.emitter_soaring_wing_2" X="19" Y="0" Layer="TrapsColor" Width="17" Height="126" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-17" B="0" C="0" D="126" Tx="17" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.emitter_soaring_wing_2" X="2" Y="0" Layer="TrapsColor" Width="17" Height="126" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="17" B="0" C="0" D="126" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Object Name="Shiny_Center_Wing" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_shining_2" X="0" Y="0" Layer="TrapsColor" Width="19" Height="126" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="19" B="0" C="0" D="126" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_shining_2" X="19" Y="0" Layer="TrapsColor" Width="19" Height="126" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="-19" B="0" C="0" D="126" Tx="19" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LightingUp">
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="~GlobalTimer" />
                                                    </Transformation>
                                                    <Transformation Name="LightingOff">
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Dynamic>
                                            <Transformation Name="CenterWingFlare">
                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                                <Object Name="Sphere" X="-19" Y="35">
                                    <Content>
                                        <Image ClassName="traps_shadows.emitter_soaring_body" X="19" Y="0" Layer="TrapsColor" Width="19" Height="38" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-19" B="0" C="0" D="38" Tx="19" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.emitter_soaring_body" X="0" Y="0" Layer="TrapsColor" Width="19" Height="38" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="19" B="0" C="0" D="38" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Object Name="Shiny_Ring" X="5" Y="5">
                                            <Content>
                                                <Image ClassName="traps_shadows.emitter_soaring_lamp" X="0" Y="0" Layer="TrapsColor" Width="14" Height="14" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="14" B="0" C="0" D="14" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_lamp" X="0" Y="14" Layer="TrapsColor" Width="14" Height="14" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="14" B="0" C="0" D="-14" Tx="0" Ty="14" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_lamp" X="14" Y="0" Layer="TrapsColor" Width="14" Height="14" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="-14" B="0" C="0" D="14" Tx="14" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_lamp" X="14" Y="14" Layer="TrapsColor" Width="14" Height="14" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="-14" B="0" C="0" D="-14" Tx="14" Ty="14" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="RingFlare">
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="1" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                </Object>
                                <Object Name="Right_Wing" X="24" Y="0">
                                    <Content>
                                        <Object Name="Graphics" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_1" X="0" Y="0" Layer="TrapsColor" Width="31" Height="127" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="31" B="0" C="0" D="127" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_shining_1" X="0" Y="0" Layer="TrapsColor" Width="31" Height="127" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="31" B="0" C="0" D="127" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="LightingUp">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~GlobalTimer" />
                                                            </Transformation>
                                                            <Transformation Name="LightingOff">
                                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <Matrix A="0.9848" B="0.1736" C="-0.1736" D="0.9848" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Dynamic>
                                            <Transformation Name="RightWingHoveringAside">
                                                <MoveInterval Frames="80" Type="Bezier">
                                                    <Point X="0" Y="0" />
                                                    <Point X="10" Y="0" />
                                                    <Point X="12" Y="0" />
                                                    <Point X="10" Y="0" />
                                                    <Point X="-13" Y="0" />
                                                    <Point X="-15" Y="0" />
                                                    <Point X="-13" Y="0" />
                                                    <Point X="0" Y="0" />
                                                </MoveInterval>
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                                <Object Name="Left_Wing" X="-32" Y="0">
                                    <Content>
                                        <Object Name="Graphics" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_1" X="0" Y="0" Layer="TrapsColor" Width="31" Height="127" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="31" B="0" C="0" D="127" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.emitter_soaring_wing_shining_1" X="0" Y="0" Layer="TrapsColor" Width="31" Height="127" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="31" B="0" C="0" D="127" Tx="0" Ty="0" />
                                                            <StartColor Color="#FFFFFF00" />
                                                        </Static>
                                                        <Dynamic>
                                                            <Transformation Name="LightingUp">
                                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~GlobalTimer" />
                                                            </Transformation>
                                                            <Transformation Name="LightingOff">
                                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                                            </Transformation>
                                                        </Dynamic>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <Matrix A="0.9848" B="0.1736" C="-0.1736" D="0.9848" Tx="-8.4816" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="-1" B="0" C="0" D="1" Tx="0" Ty="0" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="LeftWingHoveringAside">
                                                <MoveInterval Frames="80" Type="Bezier">
                                                    <Point X="0" Y="0" />
                                                    <Point X="-10" Y="0" />
                                                    <Point X="-12" Y="0" />
                                                    <Point X="-10" Y="0" />
                                                    <Point X="10" Y="0" />
                                                    <Point X="12" Y="0" />
                                                    <Point X="10" Y="0" />
                                                    <Point X="0" Y="0" />
                                                </MoveInterval>
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                            </Content>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="WingsHoveringVertical">
                                <MoveInterval Frames="160" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="8" />
                                    <Point X="0" Y="30" />
                                    <Point X="0" Y="8" />
                                    <Point X="0" Y="-27" />
                                    <Point X="0" Y="-40" />
                                    <Point X="0" Y="-8" />
                                    <Point X="0" Y="0" />
                                </MoveInterval>
                            </Transformation>
                            <Transformation Name="WingsHoveringHorizontal">
                                <MoveInterval Frames="160" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="8" Y="0" />
                                    <Point X="10" Y="0" />
                                    <Point X="8" Y="0" />
                                    <Point X="0" Y="0" />
                                    <Point X="-8" Y="0" />
                                    <Point X="-10" Y="0" />
                                    <Point X="-8" Y="0" />
                                    <Point X="0" Y="0" />
                                </MoveInterval>
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Trigger Name="Activator" X="-60" Y="60" Width="120" Height="120">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="FlagActive" Value="1" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Hovering" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="WingsCycleHovering" />
                            </Actions>
                        </Loop>
                        <Loop Name="WingsCycleHoveringTransform">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="WingsCycleHovering" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="WingsHoveringVertical" />
                                    <Transform Name="WingsHoveringHorizontal" />
                                    <Transform Name="RightWingHoveringAside" />
                                    <Transform Name="LeftWingHoveringAside" />
                                </Choose>
                                <Activate ActionID="WingsCycleHovering" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="LightingUp" X="0" Y="10" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="GlobalTimer" Value="~GlobalTimer" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="LightingUp" />
                                    <SoundSource Name="laser_charge" VolumeFactor="0.6" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="laser_charge" Switch="Off" />
                                    <Transform Name="LightingUp" Stop="1" />
                                    <Transform Name="LightingOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="GlobalTimer" Default="0" />
                        <Variable Name="WidthIn" Default="108" />
                        <Variable Name="WidthOut" Default="64" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Electro_emitter_floating" X="0" Y="0">
            <Content>
                <SoundSource Name="tesla_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="Graphics" X="0" Y="-41">
                    <Content>
                        <Object Name="Body" X="0" Y="0">
                            <Content>
                                <Object Name="Base" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.electro_emitter_bg" X="-43" Y="85" Layer="TrapsShadows" Width="86" Height="85" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="86" B="0" C="0" D="-85" Tx="0" Ty="-85" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.electro_ball_fang1" X="-13" Y="92" Layer="TrapsShadows" Width="26" Height="11" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="26" B="0" C="0" D="-11" Tx="0" Ty="-85" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.electro_ball_fang2" X="-27" Y="35" Layer="TrapsShadows" Width="20" Height="26" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-20" B="0" C="0" D="-26" Tx="0" Ty="-85" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.electro_ball_fang2" X="27" Y="35" Layer="TrapsShadows" Width="20" Height="26" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="20" B="0" C="0" D="-26" Tx="0" Ty="-85" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="LightingOff">
                                                <ColorInterval ColorFinish="#BBBBBBFF" Frames="10" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                                <Object Name="Shiny" X="-52" Y="19">
                                    <Content>
                                        <Object Name="" X="52" Y="23">
                                            <Content>
                                                <Image ClassName="traps_shadows.electro_balls_lamps" X="-31" Y="-31" Layer="TrapsShadows" Width="62" Height="63" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="62" B="0" C="0" D="63" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                        </Object>
                                        <Image ClassName="traps_shadows.lightning_halo" X="16" Y="-12" Layer="TrapsShadows" Width="72" Height="72" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="72" B="0" C="0" D="72" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <StartColor Color="#FFFFFF00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="LightingUp">
                                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="~GlobalTimer" />
                                            </Transformation>
                                            <Transformation Name="LightingOff">
                                                <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="BodyFloating">
                                        <MoveInterval Frames="20" Type="Sin">
                                            <Point X="0" Y="0" />
                                            <Point X="~MoveX1" Y="~MoveY1" />
                                            <Quarters Value="1QuarterDec" />
                                        </MoveInterval>
                                        <MoveInterval Frames="40" Type="Sin">
                                            <Point X="0" Y="0" />
                                            <Point X="~MoveX2" Y="~MoveY2" />
                                            <Quarters Value="2Quarters" />
                                        </MoveInterval>
                                        <MoveInterval Frames="20" Type="Sin">
                                            <Point X="0" Y="0" />
                                            <Point X="~MoveX1" Y="~MoveY1" />
                                            <Quarters Value="1QuarterAcc" />
                                        </MoveInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="TeslaEmitterHovering" X="-60" Y="50" Width="120" Height="120">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="FlagActive" Value="1" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Hovering" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="BodyFloating" />
                            </Actions>
                        </Loop>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="BodyFloating" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Transform Name="BodyFloating" />
                                <Activate ActionID="BodyFloating" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="LightingUp" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="GlobalTimer" Value="~GlobalTimer" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="LightingUp" />
                                    <SoundSource Name="tesla_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="tesla_charge" Switch="Off" />
                                    <Transform Name="LightingUp" Stop="1" />
                                    <Transform Name="LightingOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="GlobalTimer" Default="0" />
                        <Variable Name="WidthIn" Default="108" />
                        <Variable Name="WidthOut" Default="64" />
                        <Variable Name="Direction" Default="TD" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Expression Name="MoveY1" Value="?switch[~Direction, TD:7, DT:-7, 0]" />
                        <Expression Name="MoveY2" Value="?switch[~Direction, TD:-14, DT:14, 0]" />
                        <Expression Name="MoveX1" Value="?switch[~Direction, LR:7, RL:-7, 0]" />
                        <Expression Name="MoveX2" Value="?switch[~Direction, LR:-14, RL:14, 0]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Electro_emitter_mounted" X="0" Y="0">
            <Content>
                <SoundSource Name="tesla_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="Graphics" X="0" Y="-20">
                    <Content>
                        <Object Name="Base" X="0" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.v_black_traps" X="-90" Y="34" Layer="TrapsShadows" Width="180" Height="109" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="180" B="0" C="0" D="109" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.electro_emitter_underfloor_main1" X="-58" Y="34" Layer="TrapsShadows" Width="79" Height="86" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-79" B="0" C="0" D="86" Tx="58" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.electro_emitter_underfloor_main1" X="0" Y="34" Layer="TrapsShadows" Width="79" Height="86" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="79" B="0" C="0" D="86" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.electro_ball_flap" X="-82" Y="28" Layer="TrapsShadows" Width="82" Height="25" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-82.1053" B="0" C="0" D="25.2632" Tx="74.7583" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.electro_ball_flap" X="7" Y="28" Layer="TrapsShadows" Width="82" Height="25" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="82.1053" B="0" C="0" D="25.2632" Tx="0.0001" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="SlotUnflare">
                                        <ColorInterval ColorFinish="#BBBBBBFF" Frames="10" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="Shiny_slot" X="-74" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.electro_emitter_underfloor_main2" X="0" Y="34" Layer="TrapsShadows" Width="79" Height="86" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-79" B="0" C="0" D="86" Tx="74" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.electro_emitter_underfloor_main2" X="74" Y="34" Layer="TrapsShadows" Width="79" Height="86" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="79" B="0" C="0" D="86" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.lightning_halo" X="38" Y="39" Layer="TrapsShadows" Width="72" Height="72" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="72" B="0" C="0" D="72" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Static>
                                    <StartColor Color="#00CCFF00" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="SlotFlare">
                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="~ChargeTimeInternal" />
                                    </Transformation>
                                    <Transformation Name="SlotUnflare">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="Activator" X="-5" Y="63" Width="10" Height="10">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="tesla_charge" VolumeFactor="0.4" EndFrame="{_ChargeTimeInternal*800}" Switch="On" />
                                    <Transform Name="SlotFlare" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="tesla_charge" Switch="Off" />
                                    <Transform Name="SlotFlare" Stop="1" />
                                    <Transform Name="SlotUnflare" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksStart" />
                            </Conditions>
                            <Actions>
                                <Transform Name="HoleParticlesOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksEnd" />
                            </Conditions>
                            <Actions>
                                <Transform Name="HoleParticlesOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="EchoRayReach" Default="400" />
                        <Variable Name="WidthIn" Default="180" />
                        <Variable Name="WidthOut" Default="114" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Variable Name="GlobalTimer" Default="60" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_emitter_floating" X="0" Y="0">
            <Content>
                <SoundSource Name="echo_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="echo_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="Graphics" X="-1" Y="0">
                    <Content>
                        <Object Name="GraphicsWrapper" X="0" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.sound_trap3" X="-32" Y="-56" Layer="TrapsColor" Width="65" Height="65" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="65" B="0" C="0" D="65" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Object Name="Ball_Lights" X="0" Y="-26">
                                    <Content>
                                        <Image ClassName="traps_shadows.sound_trap4" X="-8" Y="-37" Layer="TrapsColor" Width="17" Height="13" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="17" B="0" C="0" D="13" Tx="0" Ty="0" />
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LightsOn">
                                                        <DelayInterval Frames="~GlobalTimer" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="5" ColorStart="#FFFFFF00" />
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="2" ColorStart="#FFFFFFFF" />
                                                        <DelayInterval Frames="3" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="1" ColorStart="#FFFFFF00" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.sound_trap4" X="-8" Y="26" Layer="TrapsColor" Width="17" Height="13" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="17" B="0" C="0" D="13" Tx="0" Ty="0" />
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LightsOn">
                                                        <DelayInterval Frames="~GlobalTimer" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="5" ColorStart="#FFFFFF00" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.sound_trap4" X="24" Y="-5" Layer="TrapsColor" Width="17" Height="13" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="0.0793" B="-12.9998" C="16.9997" D="0.1038" Tx="0" Ty="12.9998" />
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LightsOn">
                                                        <DelayInterval Frames="~GlobalTimer" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="3" ColorStart="#FFFFFF00" />
                                                    </Transformation>
                                                    <Transformation Name="BallFlickering_size">
                                                        <SizeInterval Frames="8" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="~BallLightsFlickeringSize1" H="1" />
                                                        </SizeInterval>
                                                        <DelayInterval Frames="4" />
                                                        <SizeInterval Frames="2" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="~BallLightsFlickeringSize2" H="1" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.sound_trap4" X="-40" Y="-5" Layer="TrapsColor" Width="17" Height="13" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-0.0793" B="-12.9998" C="-16.9997" D="0.1038" Tx="17.079" Ty="12.9998" />
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="LightsOn">
                                                        <DelayInterval Frames="~GlobalTimer" />
                                                        <DelayInterval Frames="2" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="3" ColorStart="#FFFFFF00" />
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="1" ColorStart="#FFFFFFFF" />
                                                        <DelayInterval Frames="2" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="5" ColorStart="#FFFFFF00" />
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="2" ColorStart="#FFFFFFFF" />
                                                        <DelayInterval Frames="6" />
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="2" ColorStart="#FFFFFF00" />
                                                    </Transformation>
                                                    <Transformation Name="BallFlickering_size">
                                                        <SizeInterval Frames="8" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="~BallLightsFlickeringSize1" H="1" />
                                                        </SizeInterval>
                                                        <DelayInterval Frames="4" />
                                                        <SizeInterval Frames="2" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="~BallLightsFlickeringSize2" H="1" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                    </Content>
                                    <Properties>
                                        <Dynamic>
                                            <Transformation Name="LightsOff">
                                                <ColorInterval ColorFinish="#4B4B4B11" Frames="10" />
                                            </Transformation>
                                            <Transformation Name="BallFlickering_color">
                                                <ColorInterval ColorFinish="FFE600FF" Frames="6" ColorStart="#FFFFFFFF" />
                                                <ColorInterval ColorFinish="FF1100FF" Frames="10" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                            </Content>
                            <Properties>
                                <Static>
                                    <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Dynamic>
                            <Transformation Name="BodyFloating">
                                <MoveInterval Frames="20" Type="Sin">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="4" />
                                    <Quarters Value="1QuarterDec" />
                                </MoveInterval>
                                <MoveInterval Frames="40" Type="Sin">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="-8" />
                                    <Quarters Value="2Quarters" />
                                </MoveInterval>
                                <MoveInterval Frames="20" Type="Sin">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="4" />
                                    <Quarters Value="1QuarterAcc" />
                                </MoveInterval>
                            </Transformation>
                            <Transformation Name="BallToSlot">
                                <MoveInterval Frames="16" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="~BallToSlotDelta" />
                                </MoveInterval>
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Trigger Name="EchoEmitterMover" X="-60" Y="59" Width="120" Height="120">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="FlagActive" Value="1" />
                            <SetVariable Name="isSlot" Value="~IsSlot" />
                        </Init>
                        <Loop Name="StartHovering">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Hovering" />
                                <Equal Value1="_isSlot" Value2="0" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="EchoHoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="EchoHoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_isSlot" Value2="0" />
                            </Conditions>
                            <Actions>
                                <Transform Name="BodyFloating" />
                                <Activate ActionID="EchoHoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="BallToSlot">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="charge_waves" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <Transform Name="BodyFloating" Stop="1" />
                                <Transform Name="LightsOn" Stop="1" />
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="BallToSlot" />
                                    <Transform Name="BallFlickering_color" />
                                    <Transform Name="BallFlickering_size" />
                                </Choose>
                                <Transform Name="LightsOff" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="LightingUp" X="0" Y="9" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="GlobalTimer" Value="~GlobalTimer" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="LightsOn" />
                                    <SoundSource Name="sound_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="sound_charge" Switch="Off" />
                                    <Transform Name="LightsOn" Stop="1" />
                                    <Transform Name="LightsOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                    <ContentVariable>
                        <Variable Name="GlobalTimer" Default="0" />
                        <Variable Name="EchoRayReach" Default="400" />
                        <Variable Name="IsSlot" Default="0" />
                        <Variable Name="WidthIn" Default="65" />
                        <Variable Name="WidthOut" Default="52" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Expression Name="BallLightsFlickeringSize1" Value="{~EchoRayReach*0.022+0.956}" />
                        <Expression Name="BallLightsFlickeringSize2" Value="{1/~BallLightsFlickeringSize1}" />
                        <Expression Name="AdditionalMove" Value="?switch[~IsSlot, 0: 51, 61]" />
                        <Expression Name="BallToSlotDelta" Value="{~EchoRayReach + ~AdditionalMove}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_emitter_mounted_ball" X="0" Y="0">
            <Content>
                <ObjectReference Name="Echo_emitter_mounted_graphics" X="0" Y="0" Filename="traps_service.xml">
                    <Properties>
                        <Static>
                            <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                            <OverrideVariable>
                                <Variable Name="IsMainSlot" Value="0" />
                            </OverrideVariable>
                        </Static>
                    </Properties>
                </ObjectReference>
                <ObjectReference Name="Echo_emitter_floating" X="0" Y="14" Filename="traps_service.xml">
                    <Properties>
                        <Static>
                            <OverrideVariable>
                                <Variable Name="GlobalTimer" Value="~GlobalTimer" />
                                <Variable Name="IsSlot" Value="1" />
                                <Variable Name="EchoRayReach" Value="~EchoRayReach" />
                            </OverrideVariable>
                        </Static>
                    </Properties>
                </ObjectReference>
                <Trigger Name="Charger" X="0" Y="60" Width="10" Height="10">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="GlobalTimer" Value="~GlobalTimer" />
                        </Init>
                        <Loop Name="Charge">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                                <Equal Value1="_GlobalTimer" Value2="0" Not="1" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="echo_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                    <Transform Name="LeftFlapOpenMountedBall" />
                                    <Transform Name="RightFlapOpenMountedBall" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="ChargeNow">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                                <Equal Value1="_GlobalTimer" Value2="0" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="echo_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                    <Transform Name="LeftFlapOpenFast" />
                                    <Transform Name="RightFlapOpenFast" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="ChargeWaves">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="charge_waves" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="sound_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                    <Choose Order="Sync" Set="0">
                                        <Transform Name="LeftFlapCloseMountedBall" />
                                        <Transform Name="RightFlapCloseMountedBall" />
                                    </Choose>
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="EchoRayReach" Default="400" />
                        <Expression Name="FlapsCloseDuration" Value="30" />
                        <Expression Name="FlapsCloseLength" Value="1.626" />
                        <Variable Name="WidthIn" Default="128" />
                        <Variable Name="WidthOut" Default="114" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Variable Name="GlobalTimer" Default="60" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_emitter_mounted" X="0" Y="0">
            <Content>
                <SoundSource Name="echo_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="echo_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Particle Name="SoundWaves" X="0" Y="45" Layer="Particles" Factor="0">
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="SoundWaves_Effect">
                                <ActivationInterval Type="On" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Particle>
                <Object Name="Lights" X="0" Y="-2">
                    <Content>
                        <Object Name="Left_Lights" X="-57" Y="11">
                            <Content>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="48" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#917E1300" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge1">
                                                <ColorInterval ColorFinish="#917E13FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#917E13FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="42" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#94671100" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge2">
                                                <DelayInterval Frames="~LeftEqualizerChargingTime" />
                                                <ColorInterval ColorFinish="#946711FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#946711FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="36" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#91601100" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge3">
                                                <ColorInterval ColorFinish="#916011FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#916011FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="30" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#A35C1000" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge4">
                                                <ColorInterval ColorFinish="#A35C10FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#A35C10FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="24" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#C8510C00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge5">
                                                <ColorInterval ColorFinish="#C8510CFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#C8510CFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="18" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#D14E0B00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge6">
                                                <ColorInterval ColorFinish="#D14E0BFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#D14E0BFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="12" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#D0440C00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge7">
                                                <ColorInterval ColorFinish="#D0440CFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#D0440CFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="6" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#CD2E0D00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge8">
                                                <ColorInterval ColorFinish="#CD2E0DFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="0" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#CB1C0F00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge9">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="LeftEqualizerOff">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="Right_Lights" X="51" Y="11">
                            <Content>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="48" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#917E1300" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge1">
                                                <ColorInterval ColorFinish="#946711FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#946711FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="42" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#94671100" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge2">
                                                <DelayInterval Frames="~LeftEqualizerChargingTime" />
                                                <ColorInterval ColorFinish="#946711FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#946711FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="36" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#91601100" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge3">
                                                <ColorInterval ColorFinish="#916011FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#916011FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="30" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#A35C1000" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge4">
                                                <ColorInterval ColorFinish="#A35C10FF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#A35C10FF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="24" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#C8510C00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge5">
                                                <ColorInterval ColorFinish="#C8510CFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#C8510CFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="18" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#D14E0B00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge6">
                                                <ColorInterval ColorFinish="#D14E0BFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#D14E0BFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="12" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#D0440C00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge7">
                                                <ColorInterval ColorFinish="#D0440CFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#D0440CFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="6" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#CD2E0D00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge8">
                                                <ColorInterval ColorFinish="#CD2E0DFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                                <Image ClassName="lights.lamp_v_white" X="0" Y="0" Layer="Lights" Width="6" Height="4" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="6" B="0" C="0" D="4" Tx="0" Ty="0" />
                                            <StartColor Color="#CB1C0F00" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="EqualizerCharge9">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="~LeftEqualizerChargingTime" />
                                            </Transformation>
                                            <Transformation Name="EqualizerChargeNow">
                                                <ColorInterval ColorFinish="#CB1C0FFF" Frames="1" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="RightEqualizerOff">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                </Object>
                <ObjectReference Name="Echo_emitter_mounted_graphics" X="0" Y="-2" Filename="traps_service.xml">
                    <Properties>
                        <Static>
                            <OverrideVariable>
                                <Variable Name="Type" Value="~Type" />
                                <Variable Name="IsMainSlot" Value="1" />
                            </OverrideVariable>
                        </Static>
                    </Properties>
                </ObjectReference>
                <Trigger Name="Charger" X="0" Y="60" Width="10" Height="10">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="GlobalTimer" Value="~GlobalTimer" />
                        </Init>
                        <Loop Name="Charge">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                                <Equal Value1="_GlobalTimer" Value2="0" Not="1" />
                            </Conditions>
                            <Actions>
                                <SoundSource Name="echo_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="LeftFlapOpenCharge" />
                                    <Transform Name="RightFlapOpenCharge" />
                                    <Transform Name="EqualizerCharge1" />
                                    <Choose Order="Straight" Set="0">
                                        <Transform Name="EqualizerCharge2" />
                                        <Transform Name="EqualizerCharge3" />
                                        <Transform Name="EqualizerCharge4" />
                                        <Transform Name="EqualizerCharge5" />
                                        <Transform Name="EqualizerCharge6" />
                                        <Transform Name="EqualizerCharge7" />
                                        <Transform Name="EqualizerCharge8" />
                                        <Transform Name="EqualizerCharge9" />
                                    </Choose>
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="ChargeNow">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                                <Equal Value1="_GlobalTimer" Value2="0" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="echo_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                    <Transform Name="EqualizerChargeNow" />
                                    <Transform Name="LeftFlapOpenCharge" />
                                    <Transform Name="RightFlapOpenCharge" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="ChargeWaves">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="charge_waves" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="sound_charge" VolumeFactor="0.4" EndFrame="{_GlobalTimer*800}" Switch="On" />
                                    <Transform Name="LeftFlapOpen" />
                                    <Transform Name="RightFlapOpen" />
                                    <Transform Name="EqualizerCharge" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="LaunchWaves">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="launch_waves" />
                            </Conditions>
                            <Actions>
                                <Transform Name="SoundWaves_Effect" />
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="sound_charge" Switch="Off" />
                                    <Transform Name="LeftEqualizerCharging" Stop="1" />
                                    <Transform Name="LeftEqualizerOff" />
                                    <Transform Name="EqualizerCharge1" Stop="1" />
                                    <Transform Name="EqualizerCharge2" Stop="1" />
                                    <Transform Name="EqualizerCharge3" Stop="1" />
                                    <Transform Name="EqualizerCharge4" Stop="1" />
                                    <Transform Name="EqualizerCharge5" Stop="1" />
                                    <Transform Name="EqualizerCharge6" Stop="1" />
                                    <Transform Name="EqualizerCharge7" Stop="1" />
                                    <Transform Name="EqualizerCharge8" Stop="1" />
                                    <Transform Name="EqualizerCharge9" Stop="1" />
                                    <Transform Name="RightEqualizerOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="~ResizeCoef" B="0" C="0" D="~ResizeCoef" Tx="0" Ty="0" />
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="High" AvailableTypes="E_String" />
                        <Expression Name="FlapsCloseDuration" Value="?switch[~Type, Low:1, Short:1, 30]" />
                        <Expression Name="FlapsCloseLength" Value="?switch[~Type, Low:1, Short:1, 1400]" />
                        <Variable Name="WidthIn" Default="128" />
                        <Variable Name="WidthOut" Default="114" />
                        <Expression Name="ResizeCoef" Value="{~WidthOut/~WidthIn}" />
                        <Variable Name="GlobalTimer" Default="60" />
                        <Expression Name="LeftEqualizerChargingTime" Value="{~GlobalTimer/9}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_emitter_mounted_graphics" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.sound_trap1" X="-27" Y="0" Layer="TrapsColor" Width="27" Height="61" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="27" B="0" C="0" D="61" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.sound_trap1" X="0" Y="0" Layer="TrapsColor" Width="27" Height="61" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-27" B="0" C="0" D="61" Tx="27" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.sound_trap5_2" X="-61" Y="0" Layer="LaserMed" Width="61" Height="70" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="61" B="0" C="0" D="70" Tx="0" Ty="0" />
                            <StartColor Color="~BackColor" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.sound_trap5_2" X="0" Y="0" Layer="LaserMed" Width="61" Height="70" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-61" B="0" C="0" D="70" Tx="61" Ty="0" />
                            <StartColor Color="~BackColor" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.sound_trap5_1" X="-32" Y="0" Layer="LaserMed" Width="32" Height="64" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="32" B="0" C="0" D="64" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.sound_trap5_1" X="0" Y="0" Layer="LaserMed" Width="32" Height="64" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-32" B="0" C="0" D="64" Tx="32" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.v_black_traps" X="-64" Y="0" Layer="TrapsBlack" Width="16" Height="70" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="16" B="0" C="0" D="70" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.v_black_traps" X="48" Y="0" Layer="TrapsBlack" Width="16" Height="70" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="16" B="0" C="0" D="70" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.gradient_intense_rounded" X="-64" Y="0" Layer="TrapsShadows" Width="87" Height="71" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="87" B="0" C="0" D="-71" Tx="0" Ty="71" />
                            <BlendMode Mode="Multiply" />
                            <StartColor Color="#760000A8" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.gradient_intense_rounded" X="-23" Y="0" Layer="TrapsShadows" Width="87" Height="71" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-87" B="0" C="0" D="-71" Tx="87" Ty="71" />
                            <BlendMode Mode="Multiply" />
                            <StartColor Color="#760000A8" />
                        </Static>
                    </Properties>
                </Image>
                <Object Name="Flaps" X="-92" Y="-1">
                    <Content>
                        <Object Name="LeftFlap" X="31" Y="1">
                            <Content>
                                <Image ClassName="traps_shadows.sound_trap6" X="0" Y="0" Layer="LaserLow1" Width="61" Height="19" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="61" B="0" C="0" D="19" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.sound_trap2" X="34" Y="0" Layer="LaserLow1" Width="27" Height="32" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="27" B="0" C="0" D="32" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="LeftFlapOpen">
                                        <SizeInterval Frames="4" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.7" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapOpenMountedBall">
                                        <SizeInterval Frames="10" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.615" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapOpenCharge">
                                        <SizeInterval Frames="14" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.9" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapOpenFast">
                                        <SizeInterval Frames="1" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.615" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="LeftFlapCloseMountedBall">
                                        <SizeInterval Frames="10" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="2" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="RightFlap" X="153" Y="1">
                            <Content>
                                <Image ClassName="traps_shadows.sound_trap6" X="-61" Y="0" Layer="LaserLow1" Width="61" Height="19" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-61" B="0" C="0" D="19" Tx="61" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.sound_trap2" X="-61" Y="0" Layer="LaserLow1" Width="27" Height="32" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-27" B="0" C="0" D="32" Tx="27" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="RightFlapOpen">
                                        <SizeInterval Frames="4" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.7" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapOpenMountedBall">
                                        <SizeInterval Frames="10" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.615" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapOpenCharge">
                                        <SizeInterval Frames="14" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.9" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapOpenFast">
                                        <SizeInterval Frames="1" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.615" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapClose">
                                        <SizeInterval Frames="~FlapsCloseDuration" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~FlapsCloseLength" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RightFlapCloseMountedBall">
                                        <SizeInterval Frames="10" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="2" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Type" Type="E_String" Default="High" AvailableTypes="E_String" />
                        <Variable Name="IsMainSlot" Type="E_Bool" Default="1" AvailableTypes="E_Bool" />
                        <Expression Name="FlapsCloseDuration" Value="?switch[~Type, Low:1, Short:1, 30]" />
                        <Expression Name="FlapsCloseLength" Value="?switch[~Type, Low:1, Short:1, 1400]" />
                        <Expression Name="BackColor" Value="?switch[~IsMainSlot, 1:#FFFFFFFF, #000000FF]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Flame_emitter_mounted" X="0" Y="0">
            <Content>
                <SoundSource Name="flame_charge" X="0" Y="-15">
                    <Properties>
                        <Static>
                            <Sound Name="flame_charge" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Object Name="Graphics" X="0" Y="-30">
                    <Content>
                        <Image ClassName="traps_shadows.flamethrower_6" X="-107" Y="0" Layer="TrapsColor" Width="121" Height="94" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="121" B="0" C="0" D="94" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.flamethrower_7" X="-18" Y="0" Layer="TrapsColor" Width="133" Height="94" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~Horizontal" />
                                    <Matrix A="133" B="0" C="0" D="94" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Object Name="manipulator" X="-108" Y="27">
                            <Content>
                                <Object Name="balloon" X="63" Y="17">
                                    <Content>
                                        <Object Name="cold" X="-93" Y="-56">
                                            <Content>
                                                <Image ClassName="traps_shadows.flamethrowe_body" X="28" Y="37" Layer="TrapsColor" Width="100" Height="48" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="100" B="0" C="0" D="48" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrowe_horizontal" X="105" Y="17" Layer="TrapsColor" Width="44" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Straight" />
                                                            <Matrix A="44" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrower_horizontal" X="105" Y="34" Layer="TrapsColor" Width="71" Height="51" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Horizontal" />
                                                            <Matrix A="71" B="0" C="0" D="51" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrower_vertical" X="105" Y="15" Layer="TrapsColor" Width="47" Height="73" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Vertical" />
                                                            <Matrix A="47" B="0" C="0" D="73" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                        </Object>
                                        <Object Name="warm" X="-93" Y="-56">
                                            <Content>
                                                <Image ClassName="traps_shadows.flamethrowe_body_on1" X="28" Y="37" Layer="TrapsColor" Width="100" Height="48" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="100" B="0" C="0" D="48" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrowe_horizontal_on1" X="105" Y="17" Layer="TrapsColor" Width="44" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Straight" />
                                                            <Matrix A="44" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrower_horizontal_on1" X="105" Y="34" Layer="TrapsColor" Width="71" Height="51" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Horizontal" />
                                                            <Matrix A="71" B="0" C="0" D="51" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrower_vertical_on1" X="105" Y="15" Layer="TrapsColor" Width="47" Height="73" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Vertical" />
                                                            <Matrix A="47" B="0" C="0" D="73" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="BallonBody">
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="~ChargeTimeInternal" />
                                                    </Transformation>
                                                    <Transformation Name="FlamerOff">
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                        <Object Name="hot" X="-26" Y="-56">
                                            <Content>
                                                <Image ClassName="traps_shadows.flamethrowe_body_on2" X="8" Y="37" Layer="TrapsColor" Width="53" Height="47" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="53" B="0" C="0" D="47" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrowe_horizontal_on2" X="38" Y="17" Layer="TrapsColor" Width="44" Height="68" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="44" B="0" C="0" D="68" Tx="0" Ty="0" />
                                                            <Enable Value="~Straight" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrower_horizontal_on2" X="38" Y="34" Layer="TrapsColor" Width="71" Height="51" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Horizontal" />
                                                            <Matrix A="71" B="0" C="0" D="51" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                                <Image ClassName="traps_shadows.flamethrowe_vertical_on2" X="38" Y="15" Layer="TrapsColor" Width="47" Height="73" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Enable Value="~Vertical" />
                                                            <Matrix A="47" B="0" C="0" D="73" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="BallonHead">
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="1" />
                                                    </Transformation>
                                                    <Transformation Name="FlamerOff">
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="0.866" B="-0.5" C="0.5" D="0.866" Tx="0" Ty="0" />
                                        </Static>
                                        <Dynamic>
                                            <Transformation Name="ManipulatorRotation2">
                                                <RotationInterval Angle="30" Type="Sin_2Quarters" Frames="~ChargeTimeForManipulator" />
                                            </Transformation>
                                        </Dynamic>
                                    </Properties>
                                </Object>
                                <Image ClassName="traps_shadows.flamethrower_2" X="-15" Y="-16" Layer="TrapsColor" Width="88" Height="46" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="88" B="0" C="0" D="46" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Static>
                                    <Matrix A="0.866" B="0.5" C="-0.5" D="0.866" Tx="0" Ty="0" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ManipulatorRotation">
                                        <RotationInterval Angle="-30" Type="Sin_2Quarters" Frames="~ChargeTimeForManipulator" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Image ClassName="traps_shadows.flamethrower_1" X="-123" Y="14" Layer="TrapsColor" Width="29" Height="80" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="29" B="0" C="0" D="80" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-129" Y="0" Layer="TrapsBlack" Width="9" Height="102" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="8.5714" B="0" C="0" D="102.286" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-129" Y="94" Layer="TrapsBlack" Width="160" Height="8" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="160" B="0" C="0" D="8.5714" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.gradient_intense" X="-128" Y="1" Layer="TrapsShadows" Width="152" Height="78" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~ShortShadow" />
                                    <Matrix A="0" B="-78" C="152" D="0" Tx="0" Ty="78" />
                                    <BlendMode Mode="Multiply" />
                                    <StartColor Color="#E3BBDDFF" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ShadowOn">
                                        <ColorInterval ColorFinish="#E3BBDD00" Frames="~ChargeTimeInternal" ColorStart="#E3BBDDFF" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.gradient_intense" X="-128" Y="1" Layer="TrapsShadows" Width="240" Height="78" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~Horizontal" />
                                    <Matrix A="0" B="-78" C="240" D="0" Tx="0" Ty="78" />
                                    <BlendMode Mode="Multiply" />
                                    <StartColor Color="#E3BBDDFF" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ShadowOn">
                                        <ColorInterval ColorFinish="#E3BBDD00" Frames="~ChargeTimeInternal" ColorStart="#E3BBDDFF" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_white" X="-127" Y="79" Layer="TrapsShadows" Width="151" Height="18" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="151.429" B="0" C="0" D="18" Tx="0" Ty="0" />
                                    <StartColor Color="#1B2744FF" />
                                    <BlendMode Mode="Multiply" Render="UnifiedGrab" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ShadowOn">
                                        <ColorInterval ColorFinish="#1B274400" Frames="~ChargeTimeInternal" ColorStart="#1B2744FF" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="14" Y="0" Layer="TrapsBlack" Width="17" Height="101" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~Straight" />
                                    <Matrix A="17" B="0" C="0" D="101.429" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.gradient_intense" X="-125" Y="10" Layer="TrapsShadows" Width="111" Height="90" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="111.429" B="-0" C="0" D="90" Tx="0" Ty="0" />
                                    <BlendMode Mode="Multiply" />
                                    <StartColor Color="#E3BBDDFF" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ShadowOn">
                                        <ColorInterval ColorFinish="#E3BBDD00" Frames="~ChargeTimeInternal" ColorStart="#E3BBDDFF" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-94" Y="0" Layer="TrapsBlack" Width="81" Height="17" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~Straight" />
                                    <Matrix A="81.4286" B="0" C="0" D="17.1429" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-70" Y="17" Layer="TrapsBlack" Width="134" Height="17" Factor="0">
                            <Properties>
                                <Static>
                                    <Enable Value="~Horizontal" />
                                    <Matrix A="102.579" B="0" C="-31.7068" D="17" Tx="31.7068" Ty="-17" />
                                </Static>
                            </Properties>
                        </Image>
                        <Image ClassName="traps_shadows.v_black_traps" X="-128" Y="0" Layer="TrapsBlack" Width="90" Height="17" Factor="0">
                            <Properties>
                                <Static>
                                    <Matrix A="90" B="0" C="0" D="17.1429" Tx="0" Ty="0" />
                                </Static>
                            </Properties>
                        </Image>
                        <Object Name="addBlacksforVerticalFlame" X="-164" Y="0">
                            <Content>
                                <Image ClassName="traps_shadows.v_black_traps" X="49" Y="0" Layer="TrapsBlack" Width="90" Height="17" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="80.7914" B="0" C="9.2086" D="17.1429" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.angle_45_hard" X="153" Y="48" Layer="TrapsBlack" Width="26" Height="46" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-25.7143" B="0" C="0" D="-45.7143" Tx="25.7143" Ty="45.7143" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Image ClassName="traps_shadows.angle_45_hard" X="169" Y="0" Layer="TrapsBlack" Width="10" Height="20" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="-10" B="0" C="0" D="20" Tx="10" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                            </Content>
                            <Properties>
                                <Static>
                                    <Enable Value="~Vertical" />
                                </Static>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0.7" B="0" C="0" D="0.7" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="Activator" X="-40" Y="36" Width="10" Height="10">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="flame_charge" VolumeFactor="0.6" EndFrame="{_ChargeTimeInternal*800}" Switch="On" />
                                    <Activate ActionID="BallonBody" />
                                    <Activate ActionID="Manipulator" />
                                    <Transform Name="ShadowOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <SoundSource Name="flame_charge" Switch="Off" />
                                    <Activate ActionID="FlamerOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="BallonBody" />
                            </Conditions>
                            <Actions>
                                <Transform Name="BallonBody" />
                                <Transform Name="BallonHead" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Manipulator" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ManipulatorRotation" />
                                    <Transform Name="ManipulatorRotation2" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="FlamerOff" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="FlamerOff" />
                                    <Transform Name="ManipulatorRotation" Stop="1" />
                                    <Transform Name="ManipulatorRotation2" Stop="1" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="HaloPosition" Default="0" />
                        <Expression Name="Straight" Value="?switch[~isFloating, 1:?switch[~HaloPosition, 0:1, 0], 1]" />
                        <Expression Name="Horizontal" Value="?switch[~isFloating, 1:?switch[~HaloPosition, 1:0, 2:0, 3:1, 4:1, 0], 0]" />
                        <Expression Name="Vertical" Value="?switch[~isFloating, 1:?switch[~HaloPosition, 1:1, 2:1, 3:0, 4:0, 0], 0]" />
                        <Expression Name="ShortShadow" Value="?switch[~Horizontal, 1:0, 1]" />
                        <Expression Name="ChargeTimeForManipulator" Value="{(~ChargeTimeInternal*3)/3}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Laser_ray_vertical" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Laser_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                                        <Variable Name="LaserReachDistance" Value="~LaserReachDistance" />
                                        <Variable Name="FlashOffsetY" Value="~FlashOffsetY" />
                                        <Variable Name="LaserSphereResize" Value="~LaserSphereResize" />
                                        <Variable Name="LaserDirection" Value="~LaserDirection" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                        <Variable Name="HaloPosition" Value="~HaloPosition" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="FlickererCharger" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" />
                                    <Transform Name="SphereOpacityUp" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" Stop="1" />
                                    <Transform Name="SphereOpacityUp" Stop="1" />
                                    <Transform Name="SphereOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                    <Transform Name="ConeOpacityUp" />
                                    <Transform Name="ConeOutburstOn" />
                                </Choose>
                                <Transform Name="EffectOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ConeOpacityUp" Stop="1" />
                                    <Transform Name="ConeOutburstOn" Stop="1" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="RayEnableOff" />
                                    <Transform Name="ConeOff" />
                                </Choose>
                                <Transform Name="EffectOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="Flasher" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="FlashActivator" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="HaloFlashRecolor" />
                                    <Transform Name="HaloFlashResize" />
                                    <Transform Name="RayFlashResize" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="5" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antilaser" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="~LaserReachDistance" Width="14" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,LaserDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="enter_laser" Volume="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="~LaserReachDistance" Width="24" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="LaserReachDistance" Default="400" />
                        <Variable Name="LaserDirection" Default="Upward" />
                        <Variable Name="RayTimer_local" Type="E_Int" Default="60" AvailableTypes="E_Int" />
                        <Variable Name="isFloating" Type="E_Bool" Default="1" AvailableTypes="E_Bool" />
                        <Expression Name="FlashOffsetY" Value="?switch[~isFloating, 1:15, 32]" />
                        <Expression Name="LaserSphereResize" Value="?switch[~isFloating, 1:100, 140]" />
                        <Expression Name="LaserLength" Value="{?switch[~isFloating, 1:100, 140]+~LaserReachDistance}" />
                        <Expression Name="EmitterType" Value="?switch[~isFloating, 1:Floating, Mounted]" />
                        <Variable Name="HaloPosition" Default="0" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Laser_ray_vertical_TD" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Laser_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                                        <Variable Name="LaserReachDistance" Value="~LaserReachDistance" />
                                        <Variable Name="FlashOffsetY" Value="~FlashOffsetY" />
                                        <Variable Name="LaserSphereResize" Value="~LaserSphereResize" />
                                        <Variable Name="LaserDirection" Value="~LaserDirection" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                        <Variable Name="HaloPosition" Value="~HaloPosition" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="FlickererCharger" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" />
                                    <Transform Name="SphereOpacityUp" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" Stop="1" />
                                    <Transform Name="SphereOpacityUp" Stop="1" />
                                    <Transform Name="SphereOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                    <Transform Name="ConeOpacityUp" />
                                    <Transform Name="ConeOutburstOn" />
                                </Choose>
                                <Transform Name="EffectOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ConeOpacityUp" Stop="1" />
                                    <Transform Name="ConeOutburstOn" Stop="1" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="RayEnableOff" />
                                    <Transform Name="ConeOff" />
                                </Choose>
                                <Transform Name="EffectOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="Flasher" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="FlashActivator" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="HaloFlashRecolor" />
                                    <Transform Name="HaloFlashResize" />
                                    <Transform Name="RayFlashResize" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="35" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antilaser" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="0" Width="14" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,LaserDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="enter_laser" Volume="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="0" Width="24" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="LaserReachDistance" Default="400" />
                        <Variable Name="LaserDirection" Default="Downward" />
                        <Variable Name="RayTimer_local" Type="E_Int" Default="60" AvailableTypes="E_Int" />
                        <Variable Name="isFloating" Type="E_Bool" Default="1" AvailableTypes="E_Bool" />
                        <Expression Name="FlashOffsetY" Value="?switch[~isFloating, 1:15, 32]" />
                        <Expression Name="LaserSphereResize" Value="?switch[~isFloating, 1:100, 140]" />
                        <Expression Name="LaserLength" Value="{?switch[~isFloating, 1:100, 140]+~LaserReachDistance}" />
                        <Expression Name="EmitterType" Value="?switch[~isFloating, 1:Floating, Mounted]" />
                        <Variable Name="HaloPosition" Default="0" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Laser_ray_horizontal_RL" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Laser_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                                        <Variable Name="LaserReachDistance" Value="~LaserReachDistance" />
                                        <Variable Name="FlashOffsetY" Value="~FlashOffsetY" />
                                        <Variable Name="LaserSphereResize" Value="~LaserSphereResize" />
                                        <Variable Name="LaserDirection" Value="~LaserDirection" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                        <Variable Name="HaloPosition" Value="~HaloPosition" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="1" D="0" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="FlickererCharger" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" />
                                    <Transform Name="SphereOpacityUp" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" Stop="1" />
                                    <Transform Name="SphereOpacityUp" Stop="1" />
                                    <Transform Name="SphereOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                    <Transform Name="ConeOpacityUp" />
                                    <Transform Name="ConeOutburstOn" />
                                </Choose>
                                <Transform Name="EffectOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ConeOpacityUp" Stop="1" />
                                    <Transform Name="ConeOutburstOn" Stop="1" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="RayEnableOff" />
                                    <Transform Name="ConeOff" />
                                </Choose>
                                <Transform Name="EffectOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="Flasher" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="FlashActivator" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="HaloFlashRecolor" />
                                    <Transform Name="HaloFlashResize" />
                                    <Transform Name="RayFlashResize" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="5" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antilaser" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="~LaserReachDistance" Width="~LaserReachDistance" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,LaserDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="enter_laser" Volume="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="~LaserReachDistance" Width="~LaserReachDistance" Height="24">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="-1" D="0" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="LaserReachDistance" Default="420" />
                        <Variable Name="LaserDirection" Default="ToTheLeft" />
                        <Variable Name="RayTimer_local" Type="E_Int" Default="60" AvailableTypes="E_Int" />
                        <Variable Name="isFloating" Type="E_Bool" Default="1" AvailableTypes="E_Bool" />
                        <Expression Name="FlashOffsetY" Value="?switch[~isFloating, 1:15, 32]" />
                        <Expression Name="LaserSphereResize" Value="?switch[~isFloating, 1:100, 140]" />
                        <Expression Name="LaserLength" Value="{?switch[~isFloating, 1:100, 140]+~LaserReachDistance}" />
                        <Expression Name="EmitterType" Value="?switch[~isFloating, 1:Floating, Mounted]" />
                        <Variable Name="HaloPosition" Default="0" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Laser_ray_horizontal_LR" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Laser_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="ChargeTimeInternal" Value="~ChargeTimeInternal" />
                                        <Variable Name="LaserReachDistance" Value="~LaserReachDistance" />
                                        <Variable Name="FlashOffsetY" Value="~FlashOffsetY" />
                                        <Variable Name="LaserSphereResize" Value="~LaserSphereResize" />
                                        <Variable Name="LaserDirection" Value="~LaserDirection" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                        <Variable Name="HaloPosition" Value="~HaloPosition" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="-1" D="0" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="FlickererCharger" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" />
                                    <Transform Name="SphereOpacityUp" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="StopCharging">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StopCharging" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereResizeUp" Stop="1" />
                                    <Transform Name="SphereOpacityUp" Stop="1" />
                                    <Transform Name="SphereOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                    <Transform Name="ConeOpacityUp" />
                                    <Transform Name="ConeOutburstOn" />
                                </Choose>
                                <Transform Name="EffectOn" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ConeOpacityUp" Stop="1" />
                                    <Transform Name="ConeOutburstOn" Stop="1" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="RayEnableOff" />
                                    <Transform Name="ConeOff" />
                                </Choose>
                                <Transform Name="EffectOff" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="Flasher" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="FlashActivator" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="HaloFlashRecolor" />
                                    <Transform Name="HaloFlashResize" />
                                    <Transform Name="RayFlashResize" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="-35" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antilaser" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="0" Width="~LaserReachDistance" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,LaserDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="enter_laser" Volume="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="0" Width="~LaserReachDistance" Height="24">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="1" D="0" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="LaserReachDistance" Default="400" />
                        <Variable Name="LaserDirection" Default="ToTheRight" />
                        <Variable Name="RayTimer_local" Type="E_Int" Default="60" AvailableTypes="E_Int" />
                        <Variable Name="isFloating" Type="E_Bool" Default="1" AvailableTypes="E_Bool" />
                        <Expression Name="FlashOffsetY" Value="?switch[~isFloating, 1:15, 32]" />
                        <Expression Name="LaserSphereResize" Value="?switch[~isFloating, 1:100, 140]" />
                        <Expression Name="LaserLength" Value="{?switch[~isFloating, 1:100, 140]+~LaserReachDistance}" />
                        <Expression Name="EmitterType" Value="?switch[~isFloating, 1:Floating, Mounted]" />
                        <Variable Name="HaloPosition" Default="0" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Laser_graphics" X="0" Y="0">
            <Content>
                <Object Name="LaserRay" X="0" Y="~FlashOffsetY">
                    <Content>
                        <Object Name="RayPart" X="0" Y="0">
                            <Content>
                                <Object Name="Flash_top" X="0" Y="~LaserLength">
                                    <Content>
                                        <Particle Name="LaserSparks" X="0" Y="0" Layer="Particles" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Enable Value="0" />
                                                    <SimulationSpace Value="Local" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="EffectOn">
                                                        <ActivationInterval Type="On" />
                                                    </Transformation>
                                                    <Transformation Name="EffectOff">
                                                        <ActivationInterval Type="Off" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Particle>
                                        <ObjectReference Name="~halo_floor" X="0" Y="0" Filename="traps_service.xml" />
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="0.5" B="0" C="0" D="-0.5" Tx="0" Ty="-1" />
                                        </Static>
                                    </Properties>
                                </Object>
                                <Object Name="Ray_flash" X="0" Y="0">
                                    <Content>
                                        <Object Name="" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.laser_halo" X="-58" Y="0" Layer="LaserLow2" Width="116" Height="~LaserLength" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="116" B="0" C="0" D="~LaserLength" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <Matrix A="2" B="0" C="0" D="1" Tx="0" Ty="0" />
                                                    <StartColor Color="#FFFFFF00" />
                                                    <Enable Value="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="HaloFlashRecolor">
                                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="2" />
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="2" />
                                                    </Transformation>
                                                    <Transformation Name="HaloFlashResize">
                                                        <ActivationInterval Type="On" />
                                                        <DelayInterval Frames="1" />
                                                        <SizeInterval Frames="4" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="3" H="1" />
                                                            <Point W="1" H="1" />
                                                        </SizeInterval>
                                                        <ActivationInterval Type="Off" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                        <Image ClassName="traps_shadows.laser_body" X="-7" Y="0" Layer="LaserMed" Width="14" Height="~LaserLength" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="14" B="0" C="0" D="~LaserLength" Tx="0" Ty="0" />
                                                    <Enable Value="0" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="RayFlashResize">
                                                        <ActivationInterval Type="On" />
                                                        <DelayInterval Frames="1" />
                                                        <SizeInterval Frames="4" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="2" H="1" />
                                                            <Point W="1" H="1" />
                                                        </SizeInterval>
                                                        <ActivationInterval Type="Off" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Image>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="0.5" B="0" C="0" D="1" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Object>
                                <Object Name="Ray" X="0" Y="~LaserLength">
                                    <Content>
                                        <Object Name="RayHalo" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.laser_halo" X="-25" Y="0" Layer="LaserLow1" Width="50" Height="~LaserLength" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="50" B="0" C="0" D="~LaserLength" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Dynamic>
                                                    <Transformation Name="RayHaloPulsation">
                                                        <DelayInterval Frames="1" />
                                                        <SizeInterval Frames="60" Type="Bezier">
                                                            <Point W="1" H="1" />
                                                            <Point W="1.3" H="1" />
                                                            <Point W="1.3" H="1" />
                                                            <Point W="1" H="1" />
                                                        </SizeInterval>
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                        <Object Name="RayBodyPulse" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.laser_body_pulse" X="-30" Y="0" Layer="LaserHigh" Width="50" Height="~LaserLength" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="60" B="0" C="0" D="~LaserLength" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <StartColor Color="#FFFFFF00" />
                                                </Static>
                                                <Dynamic>
                                                    <Transformation Name="RayBodyOpacityPulsation">
                                                        <ColorInterval ColorFinish="#FFFFFFBB" Frames="30" ColorStart="#FFFFFF00" />
                                                        <DelayInterval Frames="1" />
                                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="30" />
                                                    </Transformation>
                                                </Dynamic>
                                            </Properties>
                                        </Object>
                                        <Object Name="Ray_core" X="0" Y="0">
                                            <Content>
                                                <Image ClassName="traps_shadows.laser_body" X="-7" Y="0" Layer="LaserLow2" Width="14" Height="~LaserLength" Factor="0">
                                                    <Properties>
                                                        <Static>
                                                            <Matrix A="14" B="0" C="0" D="~LaserLength" Tx="0" Ty="0" />
                                                        </Static>
                                                    </Properties>
                                                </Image>
                                            </Content>
                                            <Properties>
                                                <Static>
                                                    <Matrix A="0.5" B="0" C="0" D="1" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Object>
                                    </Content>
                                    <Properties>
                                        <Static>
                                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Object>
                            </Content>
                            <Properties>
                                <Static>
                                    <Enable Value="0" />
                                    <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="RayEnableOn">
                                        <ActivationInterval Type="0" />
                                    </Transformation>
                                    <Transformation Name="RayEnableOff">
                                        <ActivationInterval Type="Off" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <ObjectReference Name="PreviewLaser" X="0" Y="0" Filename="phantoms.xml" Phantom="1" />
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0.5" B="0" C="0" D="1" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Object Name="LaserCone" X="0" Y="~FlashOffsetY">
                    <Content>
                        <Object Name="Sphere" X="0" Y="0">
                            <Content>
                                <Object Name="Sphere_Graphics" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.laser_sphere" X="-22" Y="-22" Layer="LaserMed" Width="22" Height="22" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="22" B="0" C="0" D="22" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.laser_sphere" X="0" Y="-22" Layer="LaserMed" Width="22" Height="22" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-22" B="0" C="0" D="22" Tx="22" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.laser_sphere" X="0" Y="0" Layer="LaserMed" Width="22" Height="22" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-22" B="0" C="0" D="-22" Tx="22" Ty="22" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.laser_sphere" X="-22" Y="0" Layer="LaserMed" Width="22" Height="22" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="22" B="0" C="0" D="-22" Tx="0" Ty="22" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                </Object>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="SphereOpacityUp">
                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="~ChargeTimeInternal" ColorStart="#FFFFFF00" />
                                    </Transformation>
                                    <Transformation Name="SphereOff">
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="10" />
                                    </Transformation>
                                    <Transformation Name="SpherePulsation">
                                        <DelayInterval Frames="1" />
                                        <SizeInterval Frames="60" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="~SpherePulseMax" H="~SpherePulseMax" />
                                            <Point W="1" H="1" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="Flash_bottom" X="0" Y="0">
                            <Content>
                                <Object Name="Cone" X="0" Y="-75">
                                    <Content>
                                        <Image ClassName="traps_shadows.laser_cone" X="-17" Y="0" Layer="LaserMed" Width="17" Height="75" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="17" B="0" C="0" D="-75" Tx="0" Ty="75" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.laser_cone" X="0" Y="0" Layer="LaserMed" Width="17" Height="75" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-17" B="0" C="0" D="-75" Tx="17" Ty="75" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                </Object>
                            </Content>
                            <Properties>
                                <Static>
                                    <StartColor Color="#FFFFFF00" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ConeOpacityUp">
                                        <ColorInterval ColorFinish="#FFFFFFFF" Frames="5" ColorStart="#FFFFFF00" />
                                    </Transformation>
                                    <Transformation Name="ConeOff">
                                        <ActivationInterval Type="Off" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                        <Object Name="ConeOutburst" X="0" Y="0">
                            <Content>
                                <Object Name="Cone" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.laser_sphere_cone_puls" X="-36" Y="-110" Layer="LaserHigh2" Width="36" Height="150" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="36" B="0" C="0" D="-150" Tx="0" Ty="150" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                        <Image ClassName="traps_shadows.laser_sphere_cone_puls" X="0" Y="-110" Layer="LaserHigh2" Width="36" Height="150" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="-36" B="0" C="0" D="-150" Tx="36" Ty="150" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                </Object>
                            </Content>
                            <Properties>
                                <Static>
                                    <Enable Value="0" />
                                    <StartColor Color="#FFFFFF00" />
                                </Static>
                                <Dynamic>
                                    <Transformation Name="ConeOutburstOpacityPulsation">
                                        <ColorInterval ColorFinish="#FFFFFFDD" Frames="30" ColorStart="#FFFFFF00" />
                                        <ColorInterval ColorFinish="#FFFFFF00" Frames="30" ColorStart="#FFFFFFDD" />
                                    </Transformation>
                                    <Transformation Name="ConeOutburstOn">
                                        <ActivationInterval Type="On" />
                                    </Transformation>
                                    <Transformation Name="ConeOff">
                                        <ActivationInterval Type="Off" />
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0.005" B="0" C="0" D="0.005" Tx="0" Ty="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="SphereResizeUp">
                                <SizeInterval Frames="~ChargeTimeInternal" Type="Bezier">
                                    <Point W="1" H="1" />
                                    <Point W="~LaserSphereResize" H="~LaserSphereResize" />
                                </SizeInterval>
                            </Transformation>
                            <Transformation Name="SphereOff">
                                <SizeInterval Frames="10" Type="Bezier">
                                    <Point W="1" H="1" />
                                    <Point W="0" H="0" />
                                </SizeInterval>
                            </Transformation>
                            <Transformation Name="SphereHoveringVertical">
                                <MoveInterval Frames="160" Type="Bezier">
                                    <Point X="0" Y="0" />
                                    <Point X="0" Y="-8" />
                                    <Point X="0" Y="-30" />
                                    <Point X="0" Y="-8" />
                                    <Point X="0" Y="27" />
                                    <Point X="0" Y="40" />
                                    <Point X="0" Y="8" />
                                    <Point X="0" Y="0" />
                                </MoveInterval>
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Trigger Name="VisualController" X="~TriggerX" Y="~TriggerY" Width="~TriggerWidth" Height="~TriggerHeight">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Hovering" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="StartPulsation" />
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="Cycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="StartPulsation" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="RayBodyOpacityPulsation" />
                                    <Transform Name="RayHaloPulsation" />
                                    <Transform Name="SpherePulsation" />
                                    <Transform Name="ConeOutburstOpacityPulsation" />
                                </Choose>
                                <Activate ActionID="StartPulsation" />
                            </Actions>
                        </Loop>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="~EmitterType" Value2="Floating" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereHoveringVertical" />
                                    <Transform Name="RayHoveringHorizontal" />
                                </Choose>
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="SoundController" X="~TriggerX" Y="~TriggerY" Width="~TriggerWidth" Height="~TriggerHeight">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="laser_idle" VolumeFactor="3" Switch="On" />
                                <SoundSource Name="laser_shot" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="laser_spark" VolumeFactor="0.6" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="laser_idle" Switch="Off" />
                                <SoundSource Name="laser_shot" Switch="Off" />
                                <SoundSource Name="laser_spark" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="laser_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="laser_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0.2" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="laser_shot" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="laser_shot" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="laser_spark" X="0" Y="~TriggerY">
                    <Properties>
                        <Static>
                            <Sound Name="laser_spark" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="500" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="ChargeTimeInternal" Default="60" />
                        <Variable Name="LaserReachDistance" Default="400" />
                        <Variable Name="FlashOffsetY" Default="10" />
                        <Variable Name="EmitterType" Default="Mounted" />
                        <Expression Name="SpherePulseMax" Value="?switch[~EmitterType, Mounted:1.4, Floating:1.2, 1.4]" />
                        <Variable Name="LaserSphereResize" Default="100" />
                        <Expression Name="LaserLength" Value="{~FlashOffsetY+~LaserReachDistance}" />
                        <Variable Name="LaserDirection" Default="Downward" />
                        <Expression Name="TriggerX" Value="?switch[~LaserDirection, Upward:0, Downward:0, ToTheLeft:0, ToTheRight:0, 0]" />
                        <Expression Name="TriggerY" Value="?switch[~LaserDirection, Upward:{-~LaserLength}, Downward:0, ToTheLeft:~LaserLength, ToTheRight:0, 0]" />
                        <Expression Name="TriggerWidth" Value="?switch[~LaserDirection, Upward:10, Downward:10, ToTheLeft:~LaserLength, ToTheRight:~LaserLength, 10]" />
                        <Expression Name="TriggerHeight" Value="?switch[~LaserDirection, Upward:~LaserLength, Downward:~LaserLength, ToTheLeft:10, ToTheRight:10, 10]" />
                        <Variable Name="HaloPosition" Default="0" />
                        <Expression Name="halo_floor" Value="?switch[~HaloPosition, 1:halo_floor_1, 2:halo_floor_2, 3:halo_floor_3, 4:halo_floor_4, halo_floor_0]" />
                    </ContentVariable>
                </Static>
                <Dynamic>
                    <Transformation Name="RayHoveringHorizontal">
                        <MoveInterval Frames="160" Type="Bezier">
                            <Point X="0" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="10" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="-10" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="0" Y="0" />
                        </MoveInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="LaserActivator" X="0" Y="0">
            <Content>
                <Trigger Name="LaserActivator" X="0" Y="0" Width="100" Height="~TriggerActivatorH">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="TheTimer" Value="~GlobalTimer" />
                            <SetVariable Name="FlagCharging" Value="0" />
                            <SetVariable Name="FlagActive" Value="1" />
                        </Init>
                        <Loop Name="TimeoutEnd">
                            <Events>
                                <Timeout />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Activate ActionID="Laser_charge" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                        <Loop Name="ActivateHovering">
                            <Events>
                                <OnShow />
                            </Events>
                            <Actions>
                                <Activate ActionID="Hovering" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                        <Loop Name="ActivateTimerIfTimerEqualsZero">
                            <Events>
                                <OnShow />
                            </Events>
                            <Conditions>
                                <Equal Value1="_TheTimer" Value2="0" />
                                <Equal Value1="_FlagCharging" Value2="0" />
                            </Conditions>
                            <Actions>
                                <Activate ActionID="StartCharging" AboveLevel="1" Dispatch="Full" />
                                <SetVariable Name="FlagCharging" Value="1" />
                                <SetTimer Frames="_TheTimer" />
                            </Actions>
                        </Loop>
                        <Loop Name="ActivateTimer">
                            <Events>
                                <Enter />
                            </Events>
                            <Conditions>
                                <Equal Value1="_TheTimer" Value2="0" Not="1" />
                                <Equal Value1="_FlagCharging" Value2="0" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Activate ActionID="VisualTimer" AboveLevel="1" Dispatch="Full" />
                                <Activate ActionID="StartCharging" AboveLevel="1" Dispatch="Full" />
                                <SetVariable Name="FlagCharging" Value="1" />
                                <SetTimer Frames="_TheTimer" />
                            </Actions>
                        </Loop>
                        <Loop Name="ActivateHoleParticles">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksActivate" />
                            </Conditions>
                            <Actions>
                                <Activate ActionID="HoleSparksStart" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                        <Loop Name="DeactivateHoleParticles">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoleSparksDeactivate" />
                            </Conditions>
                            <Actions>
                                <Activate ActionID="HoleSparksEnd" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                        <Loop Name="Deactivate">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="TrapsDeactivate" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="$Active" Value="0" />
                                <SetVariable Name="FlagActive" Value="0" />
                                <Activate ActionID="HoleSparksEnd" AboveLevel="1" Dispatch="Full" />
                                <Activate ActionID="StopCharging" AboveLevel="1" Dispatch="Full" />
                                <Activate ActionID="LaserUncharge" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="GlobalTimer" Default="0" />
                        <Variable Name="TriggerActivatorH" Default="1300" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Tesla_ray_vertical" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Tesla_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="TeslaLength" Value="~TeslaLength" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="ActivateMurderer" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="RayEnableOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="5" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antitesla" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="~TeslaLength" Width="14" Height="~TeslaLength">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TeslaDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="~TeslaLength" Width="24" Height="~TeslaLength">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="LaserDirection" Default="Upward" />
                        <Variable Name="EmitterType" Default="Mounted" />
                        <Variable Name="EmitterMountedOffset" Default="28" />
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateTeslaEmitter" Default="0" />
                        <Expression Name="FloatingLengthCoeff" Value="?switch[~isFloating, 1:15, 0]" />
                        <Expression Name="TeslaLength" Value="?switch[~RotateTeslaEmitter, 3:{~LaserReachDistance+65-~FloatingLengthCoeff}, 4:{~LaserReachDistance+65-~FloatingLengthCoeff}, {~LaserReachDistance+30-~FloatingLengthCoeff}]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Tesla_ray_vertical_TD" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Tesla_graphics_TD" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="TeslaLength" Value="~TeslaLength" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                        <Variable Name="isFloating" Value="~isFloating" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="ActivateMurderer" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="RayEnableOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="35" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antitesla" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="0" Width="14" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TeslaDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="0" Width="24" Height="~LaserReachDistance">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="LaserDirection" Default="Downward" />
                        <Variable Name="EmitterType" Default="Mounted" />
                        <Variable Name="EmitterMountedOffset" Default="28" />
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateTeslaEmitter" Default="0" />
                        <Expression Name="FloatingLengthCoeff" Value="?switch[~isFloating, 1:15, 0]" />
                        <Expression Name="TeslaLength" Value="?switch[~RotateTeslaEmitter, 3:{-~LaserReachDistance-65+~FloatingLengthCoeff}, 4:{-~LaserReachDistance-65+~FloatingLengthCoeff}, {-~LaserReachDistance-30+~FloatingLengthCoeff}]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Tesla_ray_horizontal_RL" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Tesla_graphics_RL" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="TeslaLength" Value="~TeslaLength" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="ActivateMurderer" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="RayEnableOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="5" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antitesla" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="~LaserReachDistance" Width="~LaserReachDistance" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TeslaDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="~LaserReachDistance" Width="~LaserReachDistance" Height="24">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="-1" D="0" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="LaserReachDistance" Default="420" />
                        <Variable Name="LaserDirection" Default="ToTheLeft" />
                        <Variable Name="EmitterType" Default="Mounted" />
                        <Variable Name="EmitterMountedOffset" Default="28" />
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateTeslaEmitter" Default="0" />
                        <Expression Name="FloatingLengthCoeff" Value="?switch[~isFloating, 1:15, 0]" />
                        <Expression Name="TeslaLength" Value="?switch[~RotateTeslaEmitter, 3:{~LaserReachDistance+65-~FloatingLengthCoeff}, 4:{~LaserReachDistance+65-~FloatingLengthCoeff}, {~LaserReachDistance+30-~FloatingLengthCoeff}]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Tesla_ray_horizontal_LR" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Tesla_graphics_LR" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="TeslaLength" Value="~TeslaLength" />
                                        <Variable Name="EmitterType" Value="~EmitterType" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="ActivateMurderer" X="-32" Y="123" Width="57" Height="55">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="RayEnableOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="RayEnableOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="-35" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты вкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="protected" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защиты выкл">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="restart" />
                                    </Conditions>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiLaser" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antitesla" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="0" Width="~LaserReachDistance" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="tesla_attack" Volume="1" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="death_by_laser" Volume="1" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TeslaDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Flasherer" X="-12" Y="0" Width="~LaserReachDistance" Height="24">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                </Init>
                                <Loop>
                                    <Events>
                                        <Collision />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="$Active" Value="0" />
                                        <Activate ActionID="FlashActivator" AboveLevel="1" Dispatch="Upward" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="1" D="0" Tx="0" Ty="0" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="LaserReachDistance" Default="400" />
                        <Variable Name="LaserDirection" Default="ToTheRight" />
                        <Variable Name="EmitterType" Default="Mounted" />
                        <Variable Name="EmitterMountedOffset" Default="28" />
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateTeslaEmitter" Default="0" />
                        <Expression Name="FloatingLengthCoeff" Value="?switch[~isFloating, 1:15, 0]" />
                        <Expression Name="TeslaLength" Value="?switch[~RotateTeslaEmitter, 3:{-~LaserReachDistance-65+~FloatingLengthCoeff}, 4:{-~LaserReachDistance-65+~FloatingLengthCoeff}, {-~LaserReachDistance-30+~FloatingLengthCoeff}]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Tesla_graphics" X="0" Y="0">
            <Content>
                <Lightning X="0" Y="~LightningY" Name="LightningBoltPathPrefab" Layer="Lights">
                    <Properties>
                        <Static>
                            <Path>
                                <Point X="0" Y="~TeslaLength" />
                                <Point X="0" Y="-25" />
                            </Path>
                            <Parts Value="4" />
                            <LightningCount Min="1" Max="1" />
                            <GlowColor Color="FFFFFF00" />
                            <StartColor Color="FFFFFFFF" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="RayEnableOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="RayEnableOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Lightning>
                <Trigger Name="VisualController" X="-3" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="~EmitterType" Value2="Floating" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereHoveringVertical" />
                                    <Transform Name="RayHoveringHorizontal" />
                                </Choose>
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="SoundController" X="-3" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="tesla_on" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="tesla_idle" VolumeFactor="1" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="tesla_idle" Switch="Off" />
                                <SoundSource Name="tesla_charge" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="tesla_on" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_on" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="tesla_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="TeslaLength" Default="400" />
                        <Variable Name="isFloating" Default="0" />
                        <Expression Name="LightningY" Value="?switch[~isFloating, 1:9, -3]" />
                    </ContentVariable>
                    <Matrix A="-1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                </Static>
                <Dynamic>
                    <Transformation Name="RayHoveringHorizontal">
                        <MoveInterval Frames="160" Type="Bezier">
                            <Point X="0" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="10" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="-10" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="0" Y="0" />
                        </MoveInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="Tesla_graphics_TD" X="0" Y="0">
            <Content>
                <Lightning X="0" Y="~LightningY" Name="LightningBoltPathPrefab" Layer="Lights">
                    <Properties>
                        <Static>
                            <Path>
                                <Point X="0" Y="~TeslaLength" />
                                <Point X="0" Y="25" />
                            </Path>
                            <Parts Value="4" />
                            <LightningCount Min="1" Max="1" />
                            <GlowColor Color="FFFFFF00" />
                            <StartColor Color="FFFFFFFF" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="RayEnableOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="RayEnableOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Lightning>
                <Trigger Name="VisualController" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="~EmitterType" Value2="Floating" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereHoveringVertical" />
                                    <Transform Name="RayHoveringHorizontal" />
                                </Choose>
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="SoundController" X="-3" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="tesla_on" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="tesla_idle" VolumeFactor="1" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="tesla_idle" Switch="Off" />
                                <SoundSource Name="tesla_charge" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="tesla_on" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_on" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="tesla_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="TeslaLength" Default="400" />
                        <Variable Name="isFloating" Default="0" />
                        <Expression Name="LightningY" Value="?switch[~isFloating, 1:-9, 3]" />
                    </ContentVariable>
                    <Matrix A="-1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                </Static>
                <Dynamic>
                    <Transformation Name="RayHoveringHorizontal">
                        <MoveInterval Frames="160" Type="Bezier">
                            <Point X="0" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="10" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="-10" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="0" Y="0" />
                        </MoveInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="Tesla_graphics_RL" X="0" Y="0">
            <Content>
                <Trigger Name="SoundController" X="-3" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="tesla_on" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="tesla_idle" VolumeFactor="1" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="tesla_idle" Switch="Off" />
                                <SoundSource Name="tesla_charge" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="tesla_on" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_on" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="tesla_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Lightning X="~LightningX" Y="0" Name="LightningBoltPathPrefab" Layer="Lights">
                    <Properties>
                        <Static>
                            <Path>
                                <Point X="~TeslaLength" Y="0" />
                                <Point X="-25" Y="0" />
                            </Path>
                            <Parts Value="4" />
                            <LightningCount Min="1" Max="1" />
                            <GlowColor Color="FFFFFF00" />
                            <StartColor Color="FFFFFFFF" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="RayEnableOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="RayEnableOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Lightning>
                <Trigger Name="VisualController" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="~EmitterType" Value2="Floating" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereHoveringVertical" />
                                    <Transform Name="RayHoveringHorizontal" />
                                </Choose>
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="TeslaLength" Default="400" />
                        <Variable Name="isFloating" Default="0" />
                        <Expression Name="LightningX" Value="?switch[~isFloating, 1:12, -3]" />
                    </ContentVariable>
                    <Matrix A="-1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                </Static>
                <Dynamic>
                    <Transformation Name="RayHoveringHorizontal">
                        <MoveInterval Frames="160" Type="Bezier">
                            <Point X="0" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="10" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="-10" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="0" Y="0" />
                        </MoveInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="Tesla_graphics_LR" X="0" Y="0">
            <Content>
                <Trigger Name="SoundController" X="-3" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="tesla_on" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="tesla_idle" VolumeFactor="1" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="tesla_idle" Switch="Off" />
                                <SoundSource Name="tesla_charge" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="tesla_on" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_on" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="tesla_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="tesla_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <Lightning X="~LightningX" Y="0" Name="LightningBoltPathPrefab" Layer="Lights">
                    <Properties>
                        <Static>
                            <Path>
                                <Point X="~TeslaLength" Y="0" />
                                <Point X="25" Y="0" />
                            </Path>
                            <Parts Value="4" />
                            <LightningCount Min="1" Max="1" />
                            <GlowColor Color="FFFFFF00" />
                            <StartColor Color="FFFFFFFF" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="RayEnableOn">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="RayEnableOff">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Lightning>
                <Trigger Name="VisualController" X="0" Y="0" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="HoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="HoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="~EmitterType" Value2="Floating" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="SphereHoveringVertical" />
                                    <Transform Name="RayHoveringHorizontal" />
                                </Choose>
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="HoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="HideAndStop">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="TeslaLength" Default="400" />
                        <Variable Name="isFloating" Default="0" />
                        <Expression Name="LightningX" Value="?switch[~isFloating, 1:-12, 3]" />
                    </ContentVariable>
                    <Matrix A="-1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                </Static>
                <Dynamic>
                    <Transformation Name="RayHoveringHorizontal">
                        <MoveInterval Frames="160" Type="Bezier">
                            <Point X="0" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="10" Y="0" />
                            <Point X="8" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="-10" Y="0" />
                            <Point X="-8" Y="0" />
                            <Point X="0" Y="0" />
                        </MoveInterval>
                    </Transformation>
                </Dynamic>
            </Properties>
        </Object>
        <Object Name="Echo_ray_vertical" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Echo_ray_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="EchoRayLength" Value="~EchoLength" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                </Object>
                <Trigger Name="ActivateMurderer" X="-10" Y="-10" Width="20" Height="20">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="LaserOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="LaserOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="-5" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiEcho" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiecho" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="~RayTriggerPositionY" Width="14" Height="~EchoLength">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем (детектед)">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echo_wave" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем волной">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="echo_wave" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <Wait Frames="5" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,EchoDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateEchoEmitter" Default="0" />
                        <Variable Name="EchoReach" Default="400" />
                        <Expression Name="EchoLength" Value="?switch[~RotateEchoEmmiter, 3:{~EchoReach+65}, 4:{~EchoReach+65}, ~EchoReach]" />
                        <Expression Name="RayTriggerPositionY" Value="{-~EchoLength}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_ray_vertical_TD" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Echo_ray_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="EchoRayLength" Value="~EchoLength" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="ActivateMurderer" X="-10" Y="-10" Width="20" Height="20">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="LaserOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="LaserOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-20" Y="-35" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiEcho" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiecho" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="-7" Y="0" Width="14" Height="~EchoLength">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем (детектед)">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echo_wave" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем волной">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="echo_wave" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <Wait Frames="5" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,EchoDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateEchoEmitter" Default="0" />
                        <Variable Name="EchoReach" Default="400" />
                        <Expression Name="EchoLength" Value="?switch[~RotateEchoEmmiter, 3:{~EchoReach+65}, 4:{~EchoReach+65}, ~EchoReach]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_ray_horizontal_RL" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Echo_ray_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="EchoRayLength" Value="~EchoLength" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="1" D="0" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="ActivateMurderer" X="-10" Y="-10" Width="20" Height="20">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="LaserOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="LaserOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-5" Y="-20" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiEcho" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiecho" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="~TriggerPositionX" Y="-7" Width="~EchoLength" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем (детектед)">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echo_wave" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем волной">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="echo_wave" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <Wait Frames="5" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,EchoDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateEchoEmitter" Default="0" />
                        <Variable Name="EchoReach" Default="400" />
                        <Expression Name="EchoLength" Value="?switch[~RotateEchoEmmiter, 3:{~EchoReach+65}, 4:{~EchoReach+65}, ~EchoReach]" />
                        <Expression Name="TriggerPositionX" Value="{-~EchoLength}" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_ray_horizontal_LR" X="0" Y="0">
            <Content>
                <Object Name="Graphics" X="0" Y="0">
                    <Content>
                        <ObjectReference Name="Echo_ray_graphics" X="0" Y="0" Filename="traps_service.xml">
                            <Properties>
                                <Static>
                                    <OverrideVariable>
                                        <Variable Name="isFloating" Value="~isFloating" />
                                        <Variable Name="EchoRayLength" Value="~EchoLength" />
                                    </OverrideVariable>
                                </Static>
                            </Properties>
                        </ObjectReference>
                    </Content>
                    <Properties>
                        <Static>
                            <Matrix A="0" B="1" C="-1" D="0" Tx="0" Ty="0" />
                        </Static>
                    </Properties>
                </Object>
                <Trigger Name="ActivateMurderer" X="-10" Y="-10" Width="20" Height="20">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="ForceField" Type="Bool" Value="0" />
                        </Init>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="LaserOn" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="LaserOff" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Emitter_Murderer" X="-35" Y="-20" Width="40" Height="40" Type="Circle">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Protected" Value="0" />
                                </Init>
                                <Loop Name="enter_without_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop Name="enter_with_protection">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiEcho" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiecho" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="0" Y="-7" Width="~EchoLength" Height="14">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_detected" Volume="1" />
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                        <Activate ActionID="charge_waves" AboveLevel="2" Dispatch="Full" />
                                        <SetTimer Frames="16" />
                                        <SetVariable Name="Protected" Value="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="килл по таймауту">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <Activate ActionID="launch_waves" AboveLevel="2" Dispatch="Full" />
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echoray_detected" AboveLevel="1" Dispatch="Full" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем (детектед)">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="echo_wave" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем волной">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="echo_wave" />
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <Wait Frames="5" />
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,EchoDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="echo_attack" Volume="1" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="isFloating" Default="0" />
                        <Variable Name="RotateEchoEmitter" Default="0" />
                        <Variable Name="EchoReach" Default="400" />
                        <Expression Name="EchoLength" Value="?switch[~RotateEchoEmmiter, 3:{~EchoReach+65}, 4:{~EchoReach+65}, ~EchoReach]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="Echo_ray_graphics" X="0" Y="0">
            <Content>
                <Object Name="Echo_Laser" X="0" Y="~GraphicsPositonY">
                    <Content>
                        <Object Name="GraphicsWrapper" X="0" Y="~RealLength">
                            <Content>
                                <Image ClassName="traps_shadows.sound_trap8" X="-23" Y="~MinusRealLength" Layer="LaserHigh2" Width="46" Height="~RealLength" Factor="0">
                                    <Properties>
                                        <Static>
                                            <Matrix A="46" B="0" C="0" D="~RealLength" Tx="0" Ty="0" />
                                        </Static>
                                    </Properties>
                                </Image>
                                <Object Name="UpperFlare" X="0" Y="0">
                                    <Content>
                                        <Image ClassName="traps_shadows.sound_trap7" X="-20" Y="-20" Layer="LaserHigh2" Width="38" Height="39" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="38" B="0" C="0" D="39" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                </Object>
                                <Object Name="DownFlare" X="0" Y="~MinusRealLength">
                                    <Content>
                                        <Image ClassName="traps_shadows.sound_trap7" X="-19" Y="-20" Layer="LaserHigh2" Width="38" Height="39" Factor="0">
                                            <Properties>
                                                <Static>
                                                    <Matrix A="38" B="0" C="0" D="39" Tx="0" Ty="0" />
                                                </Static>
                                            </Properties>
                                        </Image>
                                    </Content>
                                </Object>
                            </Content>
                            <Properties>
                                <Dynamic>
                                    <Transformation Name="LaserCollapse">
                                        <SizeInterval Frames="16" Type="Bezier">
                                            <Point W="1" H="1" />
                                            <Point W="0.4" H="0" />
                                        </SizeInterval>
                                    </Transformation>
                                    <Transformation Name="RayFloating">
                                        <SizeInterval Frames="20" Type="Sin">
                                            <Point W="1" H="1" />
                                            <Point W="1" H="~FirstMove" />
                                            <Quarters Value="1QuarterDec" />
                                        </SizeInterval>
                                        <SizeInterval Frames="40" Type="Sin">
                                            <Point W="1" H="1" />
                                            <Point W="1" H="~SecondMove" />
                                            <Quarters Value="2Quarters" />
                                        </SizeInterval>
                                        <SizeInterval Frames="20" Type="Sin">
                                            <Point W="1" H="1" />
                                            <Point W="1" H="~ThirdMove" />
                                            <Quarters Value="1QuarterAcc" />
                                        </SizeInterval>
                                    </Transformation>
                                </Dynamic>
                            </Properties>
                        </Object>
                    </Content>
                    <Properties>
                        <Static>
                            <StartColor Color="#FFFFFF00" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="LaserOn">
                                <ColorInterval ColorFinish="#FFFFFFFF" Frames="5" ColorStart="#FFFFFF00" />
                            </Transformation>
                            <Transformation Name="LaserOff">
                                <ColorInterval ColorFinish="#FFFFFF00" Frames="5" />
                            </Transformation>
                            <Transformation Name="LaserFlickering">
                                <ColorInterval ColorFinish="FFE600FF" Frames="6" ColorStart="#FFFFFFFF" />
                                <ColorInterval ColorFinish="FF1100BB" Frames="10" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <Trigger Name="GraphicsController" X="-13" Y="-9" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="HoveringStart">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Hovering" />
                                <Equal Value1="~isFloating" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <Activate ActionID="EchoHoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="EchoHoveringCycle">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="EchoHoveringCycle" />
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Transform Name="RayFloating" />
                                <Activate ActionID="EchoHoveringCycle" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                                <Equal Value1="_$ActionID" Value2="StopWholeLaser" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                        <Loop Name="echoray_detected">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="echoray_detected" />
                            </Conditions>
                            <Actions>
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="LaserFlickering" />
                                    <Transform Name="LaserCollapse" />
                                </Choose>
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Trigger Name="SoundController" X="-13" Y="-9" Width="5" Height="5">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlagActive" Value="0" />
                        </Init>
                        <Loop Name="TurnOn">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="1" />
                                <SoundSource Name="echo_on" VolumeFactor="1" Switch="On" />
                                <SoundSource Name="echo_idle" VolumeFactor="1" Switch="On" />
                            </Actions>
                        </Loop>
                        <Loop>
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                                <SoundSource Name="echo_idle" Switch="Off" />
                                <SoundSource Name="echo_charge" Switch="Off" />
                            </Actions>
                        </Loop>
                        <Loop Name="TurnOff">
                            <Events>
                                <OnHide />
                            </Events>
                            <Conditions>
                                <Equal Value1="_FlagActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="FlagActive" Value="0" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <SoundSource Name="echo_on" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="echo_on" Looped="0">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
                <SoundSource Name="echo_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="echo_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="EchoRayLength" Default="400" />
                        <Variable Name="isFloating" Default="1" />
                        <Expression Name="RealLength" Value="{~EchoRayLength + ?switch[~isFloating, 1: 48, 65]}" />
                        <Expression Name="MinusRealLength" Value="{-~RealLength}" />
                        <Expression Name="GraphicsPositonY" Value="?switch[~isFloating, 1: -18, -34]" />
                        <Expression Name="FirstMove" Value="{1 - 4 / ~RealLength}" />
                        <Expression Name="SecondMove" Value="{1 + 8 / ( ~RealLength - 4 )}" />
                        <Expression Name="ThirdMove" Value="{1 - 4 / ( ~RealLength + 4)}" />
                    </ContentVariable>
                    <Matrix A="-1" B="0" C="0" D="-1" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="Flame" X="0" Y="0">
            <Content>
                <Particle Name="flamethrower" X="0" Y="10" Layer="Particles" Factor="0">
                    <Properties>
                        <Static>
                            <StartSpeed Value="~ParticleStartSpeed" />
                            <EmissionRate Value="~ParticleEmissionRate" />
                            <MaxParticles Value="~ParticleEmissionRate" />
                            <StartLifetime Value="~ParticleLifetime" />
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="flame_on">
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="flame_off">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Particle>
                <Particle Name="flamethrower_burst" X="0" Y="0" Layer="Particles" Factor="0">
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="flamethrower_burst_event">
                                <ActivationInterval Type="On" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Particle>
                <Trigger Name="FlameController" X="-20" Y="20" Width="40" Height="40">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="1" />
                            <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                            <SetVariable Name="FlameActive" Type="Bool" Value="1" />
                        </Init>
                        <Loop Name="On">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="Laser_charge" />
                            </Conditions>
                            <Actions>
                                <SoundSource Name="flame_idle" VolumeFactor="1" Switch="On" />
                                <SetVariable Name="FlameActive" Value="1" />
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="ActivateKill" />
                                    <Transform Name="flame_on" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="Off">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="LaserUncharge" />
                            </Conditions>
                            <Actions>
                                <SoundSource Name="flame_idle" Switch="Off" />
                                <SoundSource Name="flame_charge" Switch="Off" />
                                <SetVariable Name="FlameActive" Value="0" />
                                <Choose Order="Sync" Set="0">
                                    <Transform Name="DeactivateKill" />
                                    <Transform Name="ActivateKill" Stop="1" />
                                    <Transform Name="flame_off" />
                                </Choose>
                            </Actions>
                        </Loop>
                        <Loop Name="flame_burst">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="burst_some_flames" />
                                <Equal Value1="_FlameActive" Value2="1" />
                            </Conditions>
                            <Actions>
                                <Transform Name="flamethrower_burst_event" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
                <Object Name="Triggers" X="0" Y="0">
                    <Content>
                        <Trigger Name="Checker" X="-2" Y="-2" Width="4" Height="4">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="-1" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="COM" />
                                    <SetVariable Name="#Gadget" Value="None" />
                                    <SetVariable Name="#PowerUp" Value="None" />
                                    <SetVariable Name="SaveType" Value="AntiFlame" />
                                    <SetVariable Name="GadgetActiveGroup" Value="Antiflame" />
                                    <SetVariable Name="MessageGadget" Value="gadget" />
                                    <SetVariable Name="MessageFail" Value="kill" />
                                    <SetVariable Name="MessagePowerUp" Value="powerup" />
                                    <SetVariable Name="ActivateID" Value="kill_check" />
                                    <SetVariable Name="Block" Value="0" />
                                    <SetVariable Name="WakeUpID" Value="restart" />
                                    <SetVariable Name="sound" Value="subject_destroyed" />
                                    <SetVariable Name="soundText" Value="^SoundAnnounce. SubjectDestroyed^" />
                                    <SetVariable Name="TextSize" Value="110" />
                                    <SetVariable Name="TextColor" Value="#FFFFFFFF" />
                                    <SetVariable Name="volumeLvl" Value="100" />
                                    <SetVariable Name="CashBack" Value="0" />
                                    <SetVariable Name="#Currency" Value="None" />
                                    <SetVariable Name="CurrencyType" Value="Points" />
                                    <SetVariable Name="GadgetIsRecharged" Value="0" />
                                    <SetVariable Name="ChargesToAppend" Value="0" />
                                    <SetVariable Name="GadgetUsed" Value="0" />
                                </Init>
                                <Template Name="SaveCheck" />
                            </Content>
                        </Trigger>
                        <Trigger Name="Murderer" X="~TriggerX" Y="~TriggerY" Width="~TriggerW" Height="~TriggerH">
                            <Content>
                                <Init>
                                    <SetVariable Name="$AI" Type="AI" Value="0" />
                                    <SetVariable Name="$Active" Type="Bool" Value="1" />
                                    <SetVariable Name="$Node" Type="Node" Value="NTop|NChest|NPivot|NKnuckles_1|NKnuckles_2|NToe_1|NToe_2" />
                                    <SetVariable Name="Effect" Value="BurnLaser" />
                                    <SetVariable Name="Protected" Type="Bool" Value="0" />
                                </Init>
                                <Loop Name="flame_burst">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Actions>
                                        <Sound Name="flame_attack" Volume="1" />
                                        <Activate ActionID="burst_some_flames" Dispatch="Upward" AboveLevel="1" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход без защиты">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <Activate ActionID="kill_check" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="вход с защитой">
                                    <Events>
                                        <Enter />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="убиваем">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="kill" />
                                        <Equal Value1="_Protected" Value2="0" />
                                    </Conditions>
                                    <Actions>
                                        <RunModelEffect Name="_Effect" Model="Player" />
                                        <SetVariable Name="?getCounter[ST_Statistics_Temporary,TeslaDeath]" Value="1" />
                                        <ActionBlock Template="FreqUsed.Death" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="сообщение о паверапе">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_$ActionID" Value2="powerup" />
                                    </Conditions>
                                    <Actions>
                                        <MessageOnScreen Text="immunity" Color="#FFFFFF99" AppearStyle="Fade" DisappearStyle="Fade" Frames="40" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="защита от лазера по гаджету/паверапу">
                                    <Events>
                                        <Activate />
                                    </Events>
                                    <Conditions>
                                        <Operator Type="Or">
                                            <Equal Value1="_$ActionID" Value2="gadget" />
                                            <Equal Value1="_$ActionID" Value2="powerup" />
                                        </Operator>
                                    </Conditions>
                                    <Actions>
                                        <Sound Name="flame_attack" Volume="1" />
                                        <RunModelEffect Name="LaserSparks" Model="Player" />
                                        <SetVariable Name="Protected" Value="1" />
                                        <Activate ActionID="protected" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="таймер на снятие защиты от лазера">
                                    <Events>
                                        <Exit />
                                    </Events>
                                    <Conditions>
                                        <Equal Value1="_Protected" Value2="1" />
                                    </Conditions>
                                    <Actions>
                                        <SetTimer Frames="~RayTimer_local" />
                                    </Actions>
                                </Loop>
                                <Loop ToolTip="снятие защиты от лазера">
                                    <Events>
                                        <Timeout />
                                    </Events>
                                    <Actions>
                                        <SetVariable Name="Protected" Value="0" />
                                        <Activate ActionID="restart" />
                                    </Actions>
                                </Loop>
                            </Content>
                        </Trigger>
                    </Content>
                    <Properties>
                        <Static>
                            <Enable Value="0" />
                        </Static>
                        <Dynamic>
                            <Transformation Name="ActivateKill">
                                <DelayInterval Frames="3" />
                                <ActivationInterval Type="On" />
                            </Transformation>
                            <Transformation Name="DeactivateKill">
                                <ActivationInterval Type="Off" />
                            </Transformation>
                        </Dynamic>
                    </Properties>
                </Object>
                <SoundSource Name="flame_idle" X="0" Y="0">
                    <Properties>
                        <Static>
                            <Sound Name="flame_idle" Looped="1">
                                <IntervalVolume MinDistance="0" MaxDistance="900" NearVolume="1" FarVolume="0" />
                            </Sound>
                        </Static>
                    </Properties>
                </SoundSource>
            </Content>
            <Properties>
                <Static>
                    <ContentVariable>
                        <Variable Name="Reach" Default="100" />
                        <Variable Name="Direction" Default="DT" />
                        <Variable Name="RayTimer_local" Type="E_Int" Default="60" AvailableTypes="E_Int" />
                        <Expression Name="FlameLength" Value="{~Reach-22}" />
                        <Expression Name="ParticleLifetime" Value="{~Reach*0.0001315789 + 0.04736842}" />
                        <Expression Name="ParticleStartSpeed" Value="{~Reach*10.4 * 0.1 / ~ParticleLifetime}" />
                        <Expression Name="ParticleEmissionRate" Value="{~Reach*4}" />
                        <Expression Name="TriggerX" Value="-7" />
                        <Expression Name="TriggerY" Value="?switch[~Direction, TD:  0, DT: {-~Reach+30}, RL: {-~Reach+30}, 0]" />
                        <Expression Name="TriggerReachInternal" Value="{~Reach-30}" />
                        <Expression Name="TriggerW" Value="?switch[~Direction, TD: 14, DT: 14, ~TriggerReachInternal]" />
                        <Expression Name="TriggerH" Value="?switch[~Direction, LR: 14, RL: 14, ~TriggerReachInternal]" />
                    </ContentVariable>
                </Static>
            </Properties>
        </Object>
        <Object Name="halo_floor_0" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.laser_halo_floor" X="0" Y="-110" Layer="LaserLow2" Width="128" Height="53" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-128" B="0" C="0" D="-53" Tx="128" Ty="135" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.laser_halo_floor" X="-128" Y="-110" Layer="LaserLow2" Width="128" Height="53" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="128" B="0" C="0" D="-53" Tx="0" Ty="135" />
                        </Static>
                    </Properties>
                </Image>
            </Content>
        </Object>
        <Object Name="halo_floor_1" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.laser_halo_floor" X="0" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-128" B="0" C="0" D="-106" Tx="128" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.laser_halo_floor" X="-128" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="128" B="0" C="0" D="-106" Tx="0" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="0.8944" B="0.2236" C="-0.8944" D="0.8944" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="halo_floor_2" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.laser_halo_floor" X="0" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-128" B="0" C="0" D="-106" Tx="128" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.laser_halo_floor" X="-128" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="128" B="0" C="0" D="-106" Tx="0" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="0.8944" B="-0.2236" C="0.8944" D="0.8944" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="halo_floor_3" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.laser_halo_floor" X="0" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-128" B="0" C="0" D="-106" Tx="128" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.laser_halo_floor" X="-128" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="128" B="0" C="0" D="-106" Tx="0" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="-0.4472" B="0.4472" C="-1.7889" D="-0.4472" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="halo_floor_4" X="0" Y="0">
            <Content>
                <Image ClassName="traps_shadows.laser_halo_floor" X="0" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="-128" B="0" C="0" D="-106" Tx="128" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
                <Image ClassName="traps_shadows.laser_halo_floor" X="-128" Y="-110" Layer="LaserLow2" Width="128" Height="106" Factor="0">
                    <Properties>
                        <Static>
                            <Matrix A="128" B="0" C="0" D="-106" Tx="0" Ty="165" />
                        </Static>
                    </Properties>
                </Image>
            </Content>
            <Properties>
                <Static>
                    <Matrix A="0.4472" B="0.4472" C="-1.7889" D="0.4472" Tx="0" Ty="0" />
                </Static>
            </Properties>
        </Object>
        <Object Name="TrapsDeactivator" X="0" Y="0">
            <Content>
                <Trigger Name="TrapsDeactivator" X="-75" Y="-75" Width="150" Height="150">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="0" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                        </Init>
                        <Loop Name="Deactivate">
                            <Events>
                                <ActivateNearPlayer />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="TrapsOff" />
                            </Conditions>
                            <Actions>
                                <Wait Frames="?max[{2 + ?getModel[Player].localPositionX*0.013},{2 - ?getModel[Player].localPositionX*0.013}]" />
                                <Activate ActionID="TrapsDeactivate" AboveLevel="1" Dispatch="Full" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
        </Object>
        <Object Name="SwarmDeactivator" X="0" Y="0">
            <Content>
                <Trigger Name="SwarmDeactivator" X="-75" Y="-75" Width="150" Height="150">
                    <Content>
                        <Init>
                            <SetVariable Name="$AI" Type="AI" Value="0" />
                            <SetVariable Name="$Active" Type="Bool" Value="0" />
                            <SetVariable Name="$Node" Type="Node" Value="COM" />
                            <SetVariable Name="StopChecking" Value="0" />
                        </Init>
                        <Loop Name="Deactivate">
                            <Events>
                                <ActivateNearPlayer />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="TrapsOff" />
                            </Conditions>
                            <Actions>
                                <Wait Frames="?max[{2 + ?getModel[Player].localPositionX*0.013},{2 - ?getModel[Player].localPositionX*0.013}]" />
                                <Activate ActionID="CheckIfSwarmLeftSwarmhole" />
                            </Actions>
                        </Loop>
                        <Loop Name="Blind">
                            <Events>
                                <ActivateNearPlayer />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="SwarmBlindness" />
                            </Conditions>
                            <Actions>
                                <Swarm Type="Activate" SwarmName="Test" ActionID="SwarmBlind" />
                            </Actions>
                        </Loop>
                        <Loop ToolTip="WaitAndKillSwarm_IfItDidntLeaveSwarmhole">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="CheckIfSwarmLeftSwarmhole" />
                                <Equal Value1="?getCounter[Temp,IsSwarmActive]" Value2="0" />
                                <Equal Value1="_StopChecking" Value2="0" />
                            </Conditions>
                            <Actions>
                                <Wait Frames="1" />
                                <Activate ActionID="CheckIfSwarmLeftSwarmhole" />
                            </Actions>
                        </Loop>
                        <Loop ToolTip="KillSwarmIfItLeftSwarmhole">
                            <Events>
                                <Activate />
                            </Events>
                            <Conditions>
                                <Equal Value1="_$ActionID" Value2="CheckIfSwarmLeftSwarmhole" />
                                <Equal Value1="?getCounter[Temp,IsSwarmActive]" Value2="1" />
                            </Conditions>
                            <Actions>
                                <SetVariable Name="StopChecking" Value="1" />
                                <Wait Frames="1" />
                                <Swarm Type="Activate" SwarmName="Test" ActionID="TrapsDeactivate" />
                            </Actions>
                        </Loop>
                    </Content>
                </Trigger>
            </Content>
        </Object>
    </Objects>
</Root>